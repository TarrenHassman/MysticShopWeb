(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1496],{24430:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AvatarEditor",function(){return e(56209)}])},56209:function(t,a,e){"use strict";e.r(a),e.d(a,{default:function(){return m}});var n=e(85893),r=e(12640),o=e(73487),c=e.n(o),i=e(58533),d=e(67294),s=e(18721),l=e(46041),_=e(29251),v=e(88645);let u={apiKey:"ar0qC8n3uduayrdvqSEjQY43ob9cP_Y3",network:l.N.MATIC_MUMBAI},h=new l.m(u);async function A(t){let a=await h.nft.getNftsForOwner(t);return a.ownedNfts}var m=function(){var t,a;let e=(0,r.SFn)(),o=(0,r.Osb)(),l=(0,r.Ykx)(),{contract:u}=(0,r.cqn)(s.m7),[h,m]=(0,d.useState)(void 0),[p,f]=(0,d.useState)(!0),[g,x]=(0,d.useState)(void 0),[j,E]=(0,d.useState)(void 0),[k,w]=(0,d.useState)(),[N,S]=(0,d.useState)(void 0),[y,C]=(0,d.useState)(!0),[W,b]=(0,d.useState)(!1);async function I(){if(g&&void 0==j&&e&&o){let t=function(t){let a={chain:s.bo,factoryAddress:s.xs,clientId:s.aC,gasless:!0,factoryInfo:{createAccount:async(a,e)=>{let n=a.prepare("createAccount",[s.m7,s.bo.chainId,t.contract.address,t.tokenId,0,_.Y0("")]);return n},getAccountAddress:async(a,e)=>a.call("account",[s.m7,s.bo.chainId,t.contract.address,t.tokenId,0])}};console.log("config:"+a);let e=new v.S(a);return console.log(e),e}(g);await t.connect({personalWallet:o.connector.personalWallet});let a=await t.getSigner();w(a);let e=await a.getAddress();return E(e),t}console.log("Smart Wallet not created")}void 0!=l&&void 0==h&&void 0!=e&&void 0!=l.erc4337provider&&A(l.erc4337provider.config.localSigner._address).then(t=>{m(t)}),void 0!=k&&void 0==N&&A(k.address).then(t=>{S(t)});let B=async()=>{},M=W?c().open:c().close;return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:c().avatarEditor,children:[(0,n.jsxs)("div",{className:c().tokenBoundAccount,children:[(0,n.jsxs)("div",{className:c().token,children:[(0,n.jsx)("button",{className:c().tokenButton,onClick:()=>{b(!W)},children:(0,n.jsx)("img",{src:"Rune.png"})}),(0,n.jsx)("div",{className:c().depth1}),(0,n.jsx)("div",{className:c().depth2}),(0,n.jsx)("div",{className:c().depth4,children:(0,n.jsx)("div",{className:c().tokenWrapper,children:(0,n.jsx)(r.CHu,{metadata:null!==(t=null==g?void 0:g.rawMetadata)&&void 0!==t?t:{},height:"130%",width:"130%"})})})]}),(0,n.jsx)("button",{className:c().createAccount,onClick:()=>{console.log("create account"),I()},children:(0,n.jsx)("img",{src:"avatar.svg"})}),(0,n.jsx)("button",{className:c().createWorld,onClick:()=>{console.log("create account"),I()},children:(0,n.jsx)("img",{src:"world.svg"})}),(0,n.jsxs)(r.Lq_,{signer:k,apiKey:s.aC,children:[(0,n.jsx)(r.RZ8,{}),(0,n.jsx)("div",{className:c().secondaryWallet,children:(0,n.jsx)(i.Z,{dataLength:null!==(a=null==N?void 0:N.length)&&void 0!==a?a:0,next:()=>{setTimeout(()=>{S(N.concat(Array.from({length:20})))},500)},hasMore:y,height:"100%",children:(0,n.jsxs)("div",{className:c().infiniteScroll,children:[" ",void 0!=N?N.map((t,a)=>{c().nftCard}):(0,n.jsx)("div",{})]})})})]})]}),(0,n.jsx)("div",{className:c().tokenSelector+" "+M,children:(0,n.jsx)("div",{className:c().mainWallet,children:(0,n.jsx)(i.Z,{dataLength:void 0==h?0:h.length,next:B,hasMore:p,height:"50vh",children:(0,n.jsxs)("div",{className:c().infiniteScroll,children:[" ",void 0!=h?h.map((t,a)=>{var e;return(0,n.jsx)("button",{className:c().nftCard,onClick:()=>{x(t),console.log(t),b(!W)},children:(0,n.jsx)(r.CHu,{metadata:null!==(e=t.rawMetadata)&&void 0!==e?e:{},height:"100%",width:"100%"})},a)}):(0,n.jsx)("p",{children:"Loading... "})]})})})})]})})}},73487:function(t){t.exports={avatarEditor:"AvatarEditor_avatarEditor__J6OAK",connectWalletContainer:"AvatarEditor_connectWalletContainer__Xmh_A",nftCard:"AvatarEditor_nftCard__nP3_j",infiniteScroll:"AvatarEditor_infiniteScroll__cTzSf",mainWallet:"AvatarEditor_mainWallet___hRMZ",secondaryWallet:"AvatarEditor_secondaryWallet__m3U4P",avatar:"AvatarEditor_avatar__syt_T",tokenBoundAccount:"AvatarEditor_tokenBoundAccount__8Br4m",tokenButton:"AvatarEditor_tokenButton__iXhvr",depth1:"AvatarEditor_depth1__4tGmw",depth2:"AvatarEditor_depth2__kY3My",depth4:"AvatarEditor_depth4__nsB0Q",avatarLayer:"AvatarEditor_avatarLayer__SMuyT",avatarRow:"AvatarEditor_avatarRow__ID_KV",createAccount:"AvatarEditor_createAccount__GaHvV",createWorld:"AvatarEditor_createWorld__VgzzK",tokenSelector:"AvatarEditor_tokenSelector__6OdRw",open:"AvatarEditor_open__B6ell",close:"AvatarEditor_close__HSHTI",tokenWrapper:"AvatarEditor_tokenWrapper__JytI1"}}},function(t){t.O(0,[7505,6803,9774,2888,179],function(){return t(t.s=24430)}),_N_E=t.O()}]);