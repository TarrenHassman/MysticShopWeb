(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1496],{24430:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AvatarEditor",function(){return a(71769)}])},71769:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return pages_AvatarEditor}});var r=a(85893),n=a(12640),o=a(96394),c=a.n(o),i=a(58533),d=a(67294),s=a(90629),l=a(46041),_=a(29251),v=a(25440);let u={apiKey:"ar0qC8n3uduayrdvqSEjQY43ob9cP_Y3",network:l.N.MATIC_MUMBAI},h=new l.m(u);async function getNftsForWallet(t){let e=await h.nft.getNftsForOwner(t);return e.ownedNfts}var pages_AvatarEditor=function(){var t,e;let a=(0,n.SFn)(),o=(0,n.Osb)(),l=(0,n.Ykx)(),{contract:u}=(0,n.cqn)(s.m7),[h,A]=(0,d.useState)(void 0),[f,g]=(0,d.useState)(!0),[m,p]=(0,d.useState)(void 0),[x,E]=(0,d.useState)(void 0),[j,N]=(0,d.useState)(),[k,w]=(0,d.useState)(void 0),[S,W]=(0,d.useState)(!0),[y,C]=(0,d.useState)(!1);async function createWallet(){if(m&&void 0==x&&a&&o){let t=function(t){let e={chain:s.bo,factoryAddress:s.xs,clientId:s.aC,gasless:!0,factoryInfo:{createAccount:async(e,a)=>{let r=e.prepare("createAccount",[s.m7,s.bo.chainId,t.contract.address,t.tokenId,0,_.Y0("")]);return r},getAccountAddress:async(e,a)=>e.call("account",[s.m7,s.bo.chainId,t.contract.address,t.tokenId,0])}};console.log("config:"+e);let a=new v.S(e);return console.log(a),a}(m);await t.connect({personalWallet:o.connector.personalWallet});let e=await t.getSigner();N(e);let a=await e.getAddress();return E(a),t}console.log("Smart Wallet not created")}void 0!=l&&void 0==h&&void 0!=a&&void 0!=l.erc4337provider&&getNftsForWallet(l.erc4337provider.config.localSigner._address).then(t=>{A(t)}),void 0!=j&&void 0==k&&getNftsForWallet(j.address).then(t=>{w(t)});let fetchMore=async()=>{},M=y?c().open:c().close;return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:c().avatarEditor,children:[(0,r.jsxs)("div",{className:c().tokenBoundAccount,children:[(0,r.jsxs)("div",{className:c().token,children:[(0,r.jsx)("button",{className:c().tokenButton,onClick:()=>{C(!y)},children:(0,r.jsx)("img",{src:"Rune.png"})}),(0,r.jsx)("div",{className:c().depth1}),(0,r.jsx)("div",{className:c().depth2}),(0,r.jsx)("div",{className:c().depth4,children:(0,r.jsx)("div",{className:c().tokenWrapper,children:(0,r.jsx)(n.CHu,{metadata:null!==(t=null==m?void 0:m.rawMetadata)&&void 0!==t?t:{},height:"130%",width:"130%"})})})]}),(0,r.jsx)("button",{className:c().createAccount,onClick:()=>{console.log("create account"),createWallet()},children:(0,r.jsx)("img",{src:"avatar.svg"})}),(0,r.jsx)("button",{className:c().createWorld,children:(0,r.jsx)("img",{src:"world.svg"})}),(0,r.jsxs)(n.Lq_,{signer:j,apiKey:s.aC,children:[(0,r.jsx)(n.RZ8,{}),(0,r.jsx)("div",{className:c().secondaryWallet,children:(0,r.jsx)(i.Z,{dataLength:null!==(e=null==k?void 0:k.length)&&void 0!==e?e:0,next:()=>{setTimeout(()=>{w(k.concat(Array.from({length:20})))},500)},hasMore:S,height:"100%",children:(0,r.jsxs)("div",{className:c().infiniteScroll,children:[" ",void 0!=k?k.map((t,e)=>{c().nftCard}):(0,r.jsx)("div",{})]})})})]})]}),(0,r.jsx)("div",{className:c().tokenSelector+" "+M,children:(0,r.jsx)("div",{className:c().mainWallet,children:(0,r.jsx)(i.Z,{dataLength:void 0==h?0:h.length,next:fetchMore,hasMore:f,height:"50vh",children:(0,r.jsxs)("div",{className:c().infiniteScroll,children:[" ",void 0!=h?h.map((t,e)=>{var a;return(0,r.jsx)("button",{className:c().nftCard,onClick:()=>{p(t),console.log(t),C(!y)},children:(0,r.jsx)(n.CHu,{metadata:null!==(a=t.rawMetadata)&&void 0!==a?a:{},height:"100%",width:"100%"})},e)}):(0,r.jsx)("p",{children:"Loading... "})]})})})})]})})}},96394:function(t){t.exports={avatarEditor:"AvatarEditor_avatarEditor__J6OAK",connectWalletContainer:"AvatarEditor_connectWalletContainer__Xmh_A",nftCard:"AvatarEditor_nftCard__nP3_j",infiniteScroll:"AvatarEditor_infiniteScroll__cTzSf",mainWallet:"AvatarEditor_mainWallet___hRMZ",secondaryWallet:"AvatarEditor_secondaryWallet__m3U4P",avatar:"AvatarEditor_avatar__syt_T",tokenBoundAccount:"AvatarEditor_tokenBoundAccount__8Br4m",tokenButton:"AvatarEditor_tokenButton__iXhvr",depth1:"AvatarEditor_depth1__4tGmw",depth2:"AvatarEditor_depth2__kY3My",depth4:"AvatarEditor_depth4__nsB0Q",avatarLayer:"AvatarEditor_avatarLayer__SMuyT",avatarRow:"AvatarEditor_avatarRow__ID_KV",createAccount:"AvatarEditor_createAccount__GaHvV",createWorld:"AvatarEditor_createWorld__VgzzK",tokenSelector:"AvatarEditor_tokenSelector__6OdRw",open:"AvatarEditor_open__B6ell",close:"AvatarEditor_close__HSHTI",tokenWrapper:"AvatarEditor_tokenWrapper__JytI1"}}},function(t){t.O(0,[7505,8510,9774,2888,179],function(){return t(t.s=24430)}),_N_E=t.O()}]);