"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8995],{11408:function(t,r,i){i.d(r,{OPTIONAL_EVENTS:function(){return eU},OPTIONAL_METHODS:function(){return eH},default:function(){return v}});var c=i(17187),u=i.n(c),_=i(22123),w=i(50655),E=i(9107),P=i(28041),C=i(66736),A=i(56186);let q="client",$=`wc@2:${q}:`,T={name:q,logger:"error"},U="WALLETCONNECT_DEEPLINK_CHOICE",J="Proposal expired",B=C.SEVEN_DAYS,X={wc_sessionPropose:{req:{ttl:C.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:C.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:C.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:C.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:C.ONE_DAY,prompt:!1,tag:1104},res:{ttl:C.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:C.ONE_DAY,prompt:!1,tag:1106},res:{ttl:C.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:C.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:C.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:C.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:C.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:C.ONE_DAY,prompt:!1,tag:1112},res:{ttl:C.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:C.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:C.THIRTY_SECONDS,prompt:!1,tag:1115}}},ee={min:C.FIVE_MINUTES,max:C.SEVEN_DAYS},et={idle:"IDLE",active:"ACTIVE"},es=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var eo=Object.defineProperty,ec=Object.defineProperties,el=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,ep=Object.prototype.hasOwnProperty,ef=Object.prototype.propertyIsEnumerable,de=(t,r,i)=>r in t?eo(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,g=(t,r)=>{for(var i in r||(r={}))ep.call(r,i)&&de(t,i,r[i]);if(eh)for(var i of eh(r))ef.call(r,i)&&de(t,i,r[i]);return t},b=(t,r)=>ec(t,el(r));let ps=class ps extends P.W3{constructor(t){super(t),this.name="engine",this.events=new(u()),this.initialized=!1,this.ignoredPayloadTypes=[_.rV],this.requestQueue={state:et.idle,queue:[]},this.sessionRequestQueue={state:et.idle,queue:[]},this.requestQueueDelay=C.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(X)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,C.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();let r=b(g({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(r);let{pairingTopic:i,requiredNamespaces:c,optionalNamespaces:u,sessionProperties:E,relays:P}=r,A=i,q,$=!1;if(A&&($=this.client.core.pairing.pairings.get(A).active),!A||!$){let{topic:t,uri:r}=await this.client.core.pairing.create();A=t,q=r}let T=await this.client.core.crypto.generateKeyPair(),U=g({requiredNamespaces:c,optionalNamespaces:u,relays:P??[{protocol:w.ZF}],proposer:{publicKey:T,metadata:this.client.metadata}},E&&{sessionProperties:E}),{reject:B,resolve:X,done:ee}=(0,_.H1)(C.FIVE_MINUTES,J);if(this.events.once((0,_.E0)("session_connect"),async({error:t,session:r})=>{if(t)B(t);else if(r){r.self.publicKey=T;let t=b(g({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces});await this.client.session.set(r.topic,t),await this.setExpiry(r.topic,r.expiry),A&&await this.client.core.pairing.updateMetadata({topic:A,metadata:r.peer.metadata}),X(t)}}),!A){let{message:t}=(0,_.Z7)("NO_MATCHING_KEY",`connect() pairing topic: ${A}`);throw Error(t)}let et=await this.sendRequest({topic:A,method:"wc_sessionPropose",params:U}),es=(0,_.gn)(C.FIVE_MINUTES);return await this.setProposal(et,g({id:et,expiry:es},U)),{uri:q,approval:ee}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);let{id:r,relayProtocol:i,namespaces:c,sessionProperties:u}=t,w=this.client.proposal.get(r),{pairingTopic:E,proposer:P,requiredNamespaces:C,optionalNamespaces:A}=w;E=E||"",(0,_.L5)(C)||(C=(0,_.fc)(c,"approve()"));let q=await this.client.core.crypto.generateKeyPair(),$=P.publicKey,T=await this.client.core.crypto.generateSharedKey(q,$);E&&r&&(await this.client.core.pairing.updateMetadata({topic:E,metadata:P.metadata}),await this.sendResult({id:r,topic:E,result:{relay:{protocol:i??"irn"},responderPublicKey:q}}),await this.client.proposal.delete(r,(0,_.D6)("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:E}));let U=g({relay:{protocol:i??"irn"},namespaces:c,requiredNamespaces:C,optionalNamespaces:A,pairingTopic:E,controller:{publicKey:q,metadata:this.client.metadata},expiry:(0,_.gn)(B)},u&&{sessionProperties:u});await this.client.core.relayer.subscribe(T),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:U,throwOnFailedPublish:!0});let J=b(g({},U),{topic:T,pairingTopic:E,acknowledged:!1,self:U.controller,peer:{publicKey:P.publicKey,metadata:P.metadata},controller:q});return await this.client.session.set(T,J),await this.setExpiry(T,(0,_.gn)(B)),{topic:T,acknowledged:()=>new Promise(t=>setTimeout(()=>t(this.client.session.get(T)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);let{id:r,reason:i}=t,{pairingTopic:c}=this.client.proposal.get(r);c&&(await this.sendError(r,c,i),await this.client.proposal.delete(r,(0,_.D6)("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);let{topic:r,namespaces:i}=t,c=await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:u,resolve:w,reject:E}=(0,_.H1)();return this.events.once((0,_.E0)("session_update",c),({error:t})=>{t?E(t):w()}),await this.client.session.update(r,{namespaces:i}),{acknowledged:u}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);let{topic:r}=t,i=await this.sendRequest({topic:r,method:"wc_sessionExtend",params:{}}),{done:c,resolve:u,reject:w}=(0,_.H1)();return this.events.once((0,_.E0)("session_extend",i),({error:t})=>{t?w(t):u()}),await this.setExpiry(r,(0,_.gn)(B)),{acknowledged:c}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);let{chainId:r,request:i,topic:c,expiry:u}=t,w=(0,A.payloadId)(),{done:E,resolve:P,reject:C}=(0,_.H1)(u,"Request expired. Please try again.");return this.events.once((0,_.E0)("session_request",w),({error:t,result:r})=>{t?C(t):P(r)}),await Promise.all([new Promise(async t=>{await this.sendRequest({clientRpcId:w,topic:c,method:"wc_sessionRequest",params:{request:i,chainId:r},expiry:u,throwOnFailedPublish:!0}).catch(t=>C(t)),this.client.events.emit("session_request_sent",{topic:c,request:i,chainId:r,id:w}),t()}),new Promise(async t=>{let r=await this.client.core.storage.getItem(U);(0,_.Hh)({id:w,topic:c,wcDeepLink:r}),t()}),E()]).then(t=>t[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);let{topic:r,response:i}=t,{id:c}=i;(0,A.isJsonRpcResult)(i)?await this.sendResult({id:c,topic:r,result:i.result,throwOnFailedPublish:!0}):(0,A.isJsonRpcError)(i)&&await this.sendError(c,r,i.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);let{topic:r}=t;if(this.client.session.keys.includes(r)){let t=await this.sendRequest({topic:r,method:"wc_sessionPing",params:{}}),{done:i,resolve:c,reject:u}=(0,_.H1)();this.events.once((0,_.E0)("session_ping",t),({error:t})=>{t?u(t):c()}),await i()}else this.client.core.pairing.pairings.keys.includes(r)&&await this.client.core.pairing.ping({topic:r})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);let{topic:r,event:i,chainId:c}=t;await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:c}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);let{topic:r}=t;this.client.session.keys.includes(r)?(await this.sendRequest({topic:r,method:"wc_sessionDelete",params:(0,_.D6)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(r)):await this.client.core.pairing.disconnect({topic:r})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(r=>(0,_.Ih)(r,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{let r=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(i=>{var c,u;return(null==(c=i.peerMetadata)?void 0:c.url)&&(null==(u=i.peerMetadata)?void 0:u.url)===t.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(0===i.length)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(t=>this.client.core.pairing.disconnect({topic:t.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async(t,r)=>{let{self:i}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,(0,_.D6)("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(i.publicKey)&&await this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),r||this.client.core.expirer.del(t),this.client.core.storage.removeItem(U).catch(t=>this.client.logger.warn(t))},this.deleteProposal=async(t,r)=>{await Promise.all([this.client.proposal.delete(t,(0,_.D6)("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,r),i?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(r=>r.id!==t),i&&(this.sessionRequestQueue.state=et.idle)},this.setExpiry=async(t,r)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:r}),this.client.core.expirer.set(t,r)},this.setProposal=async(t,r)=>{await this.client.proposal.set(t,r),this.client.core.expirer.set(t,r.expiry)},this.setPendingSessionRequest=async t=>{let r=X.wc_sessionRequest.req.ttl,{id:i,topic:c,params:u,verifyContext:w}=t;await this.client.pendingRequest.set(i,{id:i,topic:c,params:u,verifyContext:w}),r&&this.client.core.expirer.set(i,(0,_.gn)(r))},this.sendRequest=async t=>{let{topic:r,method:i,params:c,expiry:u,relayRpcId:w,clientRpcId:E,throwOnFailedPublish:P}=t,C=(0,A.formatJsonRpcRequest)(i,c,E);if((0,_.jU)()&&es.includes(i)){let t=(0,_.rj)(JSON.stringify(C));this.client.core.verify.register({attestationId:t})}let q=await this.client.core.crypto.encode(r,C),$=X[i].req;return u&&($.ttl=u),w&&($.id=w),this.client.core.history.set(r,C),P?($.internal=b(g({},$.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,q,$)):this.client.core.relayer.publish(r,q,$).catch(t=>this.client.logger.error(t)),C.id},this.sendResult=async t=>{let{id:r,topic:i,result:c,throwOnFailedPublish:u}=t,_=(0,A.formatJsonRpcResult)(r,c),w=await this.client.core.crypto.encode(i,_),E=await this.client.core.history.get(i,r),P=X[E.request.method].res;u?(P.internal=b(g({},P.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,w,P)):this.client.core.relayer.publish(i,w,P).catch(t=>this.client.logger.error(t)),await this.client.core.history.resolve(_)},this.sendError=async(t,r,i)=>{let c=(0,A.formatJsonRpcError)(t,i),u=await this.client.core.crypto.encode(r,c),_=await this.client.core.history.get(r,t),w=X[_.request.method].res;this.client.core.relayer.publish(r,u,w),await this.client.core.history.resolve(c)},this.cleanup=async()=>{let t=[],r=[];this.client.session.getAll().forEach(r=>{(0,_.Bw)(r.expiry)&&t.push(r.topic)}),this.client.proposal.getAll().forEach(t=>{(0,_.Bw)(t.expiry)&&r.push(t.id)}),await Promise.all([...t.map(t=>this.deleteSession(t)),...r.map(t=>this.deleteProposal(t))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===et.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=et.active;let t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(t=>setTimeout(t,300))}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=et.idle},this.processRequest=t=>{let{topic:r,payload:i}=t,c=i.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeRequest(r,i);case"wc_sessionSettle":return this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return this.onSessionExtendRequest(r,i);case"wc_sessionPing":return this.onSessionPingRequest(r,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return this.onSessionRequest(r,i);case"wc_sessionEvent":return this.onSessionEventRequest(r,i);default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async t=>{let{topic:r,payload:i}=t,c=(await this.client.core.history.get(r,i.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${c}`)}},this.onRelayEventUnknownPayload=t=>{let{topic:r}=t,{message:i}=(0,_.Z7)("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw Error(i)},this.onSessionProposeRequest=async(t,r)=>{let{params:i,id:c}=r;try{this.isValidConnect(g({},r.params));let u=(0,_.gn)(C.FIVE_MINUTES),w=g({id:c,pairingTopic:t,expiry:u},i);await this.setProposal(c,w);let E=(0,_.rj)(JSON.stringify(r)),P=await this.getVerifyContext(E,w.proposer.metadata);this.client.events.emit("session_proposal",{id:c,params:w,verifyContext:P})}catch(r){await this.sendError(c,t,r),this.client.logger.error(r)}},this.onSessionProposeResponse=async(t,r)=>{let{id:i}=r;if((0,A.isJsonRpcResult)(r)){let{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});let u=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:u});let _=u.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:_});let w=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:w});let E=await this.client.core.crypto.generateSharedKey(_,w);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:E});let P=await this.client.core.relayer.subscribe(E);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:P}),await this.client.core.pairing.activate({topic:t})}else(0,A.isJsonRpcError)(r)&&(await this.client.proposal.delete(i,(0,_.D6)("USER_DISCONNECTED")),this.events.emit((0,_.E0)("session_connect"),{error:r.error}))},this.onSessionSettleRequest=async(t,r)=>{let{id:i,params:c}=r;try{this.isValidSessionSettleRequest(c);let{relay:i,controller:u,expiry:w,namespaces:E,requiredNamespaces:P,optionalNamespaces:C,sessionProperties:A,pairingTopic:q}=r.params,$=g({topic:t,relay:i,expiry:w,namespaces:E,acknowledged:!0,pairingTopic:q,requiredNamespaces:P,optionalNamespaces:C,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},A&&{sessionProperties:A});await this.sendResult({id:r.id,topic:t,result:!0}),this.events.emit((0,_.E0)("session_connect"),{session:$}),this.cleanupDuplicatePairings($)}catch(r){await this.sendError(i,t,r),this.client.logger.error(r)}},this.onSessionSettleResponse=async(t,r)=>{let{id:i}=r;(0,A.isJsonRpcResult)(r)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit((0,_.E0)("session_approve",i),{})):(0,A.isJsonRpcError)(r)&&(await this.client.session.delete(t,(0,_.D6)("USER_DISCONNECTED")),this.events.emit((0,_.E0)("session_approve",i),{error:r.error}))},this.onSessionUpdateRequest=async(t,r)=>{let{params:i,id:c}=r;try{let r=`${t}_session_update`,u=_.O6.get(r);if(u&&this.isRequestOutOfSync(u,c)){this.client.logger.info(`Discarding out of sync request - ${c}`);return}this.isValidUpdate(g({topic:t},i)),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:c,topic:t,result:!0}),this.client.events.emit("session_update",{id:c,topic:t,params:i}),_.O6.set(r,c)}catch(r){await this.sendError(c,t,r),this.client.logger.error(r)}},this.isRequestOutOfSync=(t,r)=>parseInt(r.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,r)=>{let{id:i}=r;(0,A.isJsonRpcResult)(r)?this.events.emit((0,_.E0)("session_update",i),{}):(0,A.isJsonRpcError)(r)&&this.events.emit((0,_.E0)("session_update",i),{error:r.error})},this.onSessionExtendRequest=async(t,r)=>{let{id:i}=r;try{this.isValidExtend({topic:t}),await this.setExpiry(t,(0,_.gn)(B)),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(r){await this.sendError(i,t,r),this.client.logger.error(r)}},this.onSessionExtendResponse=(t,r)=>{let{id:i}=r;(0,A.isJsonRpcResult)(r)?this.events.emit((0,_.E0)("session_extend",i),{}):(0,A.isJsonRpcError)(r)&&this.events.emit((0,_.E0)("session_extend",i),{error:r.error})},this.onSessionPingRequest=async(t,r)=>{let{id:i}=r;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(r){await this.sendError(i,t,r),this.client.logger.error(r)}},this.onSessionPingResponse=(t,r)=>{let{id:i}=r;setTimeout(()=>{(0,A.isJsonRpcResult)(r)?this.events.emit((0,_.E0)("session_ping",i),{}):(0,A.isJsonRpcError)(r)&&this.events.emit((0,_.E0)("session_ping",i),{error:r.error})},500)},this.onSessionDeleteRequest=async(t,r)=>{let{id:i}=r;try{this.isValidDisconnect({topic:t,reason:r.params}),await Promise.all([new Promise(r=>{this.client.core.relayer.once(w.Mb.publish,async()=>{r(await this.deleteSession(t))})}),this.sendResult({id:i,topic:t,result:!0})]),this.client.events.emit("session_delete",{id:i,topic:t})}catch(t){this.client.logger.error(t)}},this.onSessionRequest=async(t,r)=>{let{id:i,params:c}=r;try{this.isValidRequest(g({topic:t},c));let r=(0,_.rj)(JSON.stringify((0,A.formatJsonRpcRequest)("wc_sessionRequest",c,i))),u=this.client.session.get(t),w=await this.getVerifyContext(r,u.peer.metadata),E={id:i,topic:t,params:c,verifyContext:w};await this.setPendingSessionRequest(E),this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue()}catch(r){await this.sendError(i,t,r),this.client.logger.error(r)}},this.onSessionRequestResponse=(t,r)=>{let{id:i}=r;(0,A.isJsonRpcResult)(r)?this.events.emit((0,_.E0)("session_request",i),{result:r.result}):(0,A.isJsonRpcError)(r)&&this.events.emit((0,_.E0)("session_request",i),{error:r.error})},this.onSessionEventRequest=async(t,r)=>{let{id:i,params:c}=r;try{let r=`${t}_session_event_${c.event.name}`,u=_.O6.get(r);if(u&&this.isRequestOutOfSync(u,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(g({topic:t},c)),this.client.events.emit("session_event",{id:i,topic:t,params:c}),_.O6.set(r,i)}catch(r){await this.sendError(i,t,r),this.client.logger.error(r)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=et.idle,this.processSessionRequestQueue()},(0,C.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===et.active){this.client.logger.info("session request queue is already active.");return}let t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=et.active,this.client.events.emit("session_request",t)}catch(t){this.client.logger.error(t)}},this.onPairingCreated=t=>{if(t.active)return;let r=this.client.proposal.getAll().find(r=>r.pairingTopic===t.topic);r&&this.onSessionProposeRequest(t.topic,(0,A.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer},r.id))},this.isValidConnect=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw Error(r)}let{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:c,sessionProperties:u,relays:w}=t;if((0,_.o8)(r)||await this.isValidPairingTopic(r),!(0,_.PM)(w,!0)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`connect() relays: ${w}`);throw Error(t)}(0,_.o8)(i)||0===(0,_.L5)(i)||this.validateNamespaces(i,"requiredNamespaces"),(0,_.o8)(c)||0===(0,_.L5)(c)||this.validateNamespaces(c,"optionalNamespaces"),(0,_.o8)(u)||this.validateSessionProps(u,"sessionProperties")},this.validateNamespaces=(t,r)=>{let i=(0,_.n)(t,"connect()",r);if(i)throw Error(i.message)},this.isValidApprove=async t=>{if(!(0,_.EJ)(t))throw Error((0,_.Z7)("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:r,namespaces:i,relayProtocol:c,sessionProperties:u}=t;await this.isValidProposalId(r);let w=this.client.proposal.get(r),E=(0,_.in)(i,"approve()");if(E)throw Error(E.message);let P=(0,_.rF)(w.requiredNamespaces,i,"approve()");if(P)throw Error(P.message);if(!(0,_.M_)(c,!0)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`approve() relayProtocol: ${c}`);throw Error(t)}(0,_.o8)(u)||this.validateSessionProps(u,"sessionProperties")},this.isValidReject=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`reject() params: ${t}`);throw Error(r)}let{id:r,reason:i}=t;if(await this.isValidProposalId(r),!(0,_.$t)(i)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw Error(t)}},this.isValidSessionSettleRequest=t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw Error(r)}let{relay:r,controller:i,namespaces:c,expiry:u}=t;if(!(0,_.Z2)(r)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(t)}let w=(0,_.Dd)(i,"onSessionSettleRequest()");if(w)throw Error(w.message);let E=(0,_.in)(c,"onSessionSettleRequest()");if(E)throw Error(E.message);if((0,_.Bw)(u)){let{message:t}=(0,_.Z7)("EXPIRED","onSessionSettleRequest()");throw Error(t)}},this.isValidUpdate=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`update() params: ${t}`);throw Error(r)}let{topic:r,namespaces:i}=t;await this.isValidSessionTopic(r);let c=this.client.session.get(r),u=(0,_.in)(i,"update()");if(u)throw Error(u.message);let w=(0,_.rF)(c.requiredNamespaces,i,"update()");if(w)throw Error(w.message)},this.isValidExtend=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`extend() params: ${t}`);throw Error(r)}let{topic:r}=t;await this.isValidSessionTopic(r)},this.isValidRequest=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`request() params: ${t}`);throw Error(r)}let{topic:r,request:i,chainId:c,expiry:u}=t;await this.isValidSessionTopic(r);let{namespaces:w}=this.client.session.get(r);if(!(0,_.p8)(w,c)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`request() chainId: ${c}`);throw Error(t)}if(!(0,_.hH)(i)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw Error(t)}if(!(0,_.al)(w,c,i.method)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`request() method: ${i.method}`);throw Error(t)}if(u&&!(0,_.ON)(u,ee)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`request() expiry: ${u}. Expiry must be a number (in seconds) between ${ee.min} and ${ee.max}`);throw Error(t)}},this.isValidRespond=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`respond() params: ${t}`);throw Error(r)}let{topic:r,response:i}=t;if(await this.isValidSessionTopic(r),!(0,_.JT)(i)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw Error(t)}},this.isValidPing=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`ping() params: ${t}`);throw Error(r)}let{topic:r}=t;await this.isValidSessionOrPairingTopic(r)},this.isValidEmit=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`emit() params: ${t}`);throw Error(r)}let{topic:r,event:i,chainId:c}=t;await this.isValidSessionTopic(r);let{namespaces:u}=this.client.session.get(r);if(!(0,_.p8)(u,c)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`emit() chainId: ${c}`);throw Error(t)}if(!(0,_.nf)(i)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw Error(t)}if(!(0,_.sI)(u,c,i.name)){let{message:t}=(0,_.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw Error(t)}},this.isValidDisconnect=async t=>{if(!(0,_.EJ)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw Error(r)}let{topic:r}=t;await this.isValidSessionOrPairingTopic(r)},this.getVerifyContext=async(t,r)=>{let i={verified:{verifyUrl:r.verifyUrl||w.sG,validation:"UNKNOWN",origin:r.url||""}};try{let c=await this.client.core.verify.resolve({attestationId:t,verifyUrl:r.verifyUrl});c&&(i.verified.origin=c.origin,i.verified.isScam=c.isScam,i.verified.validation=c.origin===new URL(r.url).origin?"VALID":"INVALID")}catch(t){this.client.logger.info(t)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(t,r)=>{Object.values(t).forEach(t=>{if(!(0,_.M_)(t,!1)){let{message:i}=(0,_.Z7)("MISSING_OR_INVALID",`${r} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw Error(i)}})}}async isInitialized(){if(!this.initialized){let{message:t}=(0,_.Z7)("NOT_INITIALIZED",this.name);throw Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(w.Mb.message,async t=>{let{topic:r,message:i}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let c=await this.client.core.crypto.decode(r,i);try{(0,A.isJsonRpcRequest)(c)?(this.client.core.history.set(r,c),this.onRelayEventRequest({topic:r,payload:c})):(0,A.isJsonRpcResponse)(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:r,payload:c}),this.client.core.history.delete(r,c.id)):this.onRelayEventUnknownPayload({topic:r,payload:c})}catch(t){this.client.logger.error(t)}})}registerExpirerEvents(){this.client.core.expirer.on(w.i9.expired,async t=>{let{topic:r,id:i}=(0,_.iP)(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,(0,_.Z7)("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(w.I8.create,t=>this.onPairingCreated(t))}isValidPairingTopic(t){if(!(0,_.M_)(t,!1)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){let{message:r}=(0,_.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw Error(r)}if((0,_.Bw)(this.client.core.pairing.pairings.get(t).expiry)){let{message:r}=(0,_.Z7)("EXPIRED",`pairing topic: ${t}`);throw Error(r)}}async isValidSessionTopic(t){if(!(0,_.M_)(t,!1)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw Error(r)}if(!this.client.session.keys.includes(t)){let{message:r}=(0,_.Z7)("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw Error(r)}if((0,_.Bw)(this.client.session.get(t).expiry)){await this.deleteSession(t);let{message:r}=(0,_.Z7)("EXPIRED",`session topic: ${t}`);throw Error(r)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if((0,_.M_)(t,!1)){let{message:r}=(0,_.Z7)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw Error(r)}else{let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw Error(r)}}async isValidProposalId(t){if(!(0,_.Q0)(t)){let{message:r}=(0,_.Z7)("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw Error(r)}if(!this.client.proposal.keys.includes(t)){let{message:r}=(0,_.Z7)("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw Error(r)}if((0,_.Bw)(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);let{message:r}=(0,_.Z7)("EXPIRED",`proposal id: ${t}`);throw Error(r)}}};let hs=class hs extends w.yh{constructor(t,r){super(t,r,"proposal",$),this.core=t,this.logger=r}};let ds=class ds extends w.yh{constructor(t,r){super(t,r,"session",$),this.core=t,this.logger=r}};let us=class us extends w.yh{constructor(t,r){super(t,r,"request",$,t=>t.id),this.core=t,this.logger=r}};let Q=class Q extends P.lV{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=T.name,this.events=new c.EventEmitter,this.on=(t,r)=>this.events.on(t,r),this.once=(t,r)=>this.events.once(t,r),this.off=(t,r)=>this.events.off(t,r),this.removeListener=(t,r)=>this.events.removeListener(t,r),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(t){throw this.logger.error(t.message),t}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(t){throw this.logger.error(t.message),t}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(t){throw this.logger.error(t.message),t}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(t){throw this.logger.error(t.message),t}},this.update=async t=>{try{return await this.engine.update(t)}catch(t){throw this.logger.error(t.message),t}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(t){throw this.logger.error(t.message),t}},this.request=async t=>{try{return await this.engine.request(t)}catch(t){throw this.logger.error(t.message),t}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(t){throw this.logger.error(t.message),t}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(t){throw this.logger.error(t.message),t}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(t){throw this.logger.error(t.message),t}},this.find=t=>{try{return this.engine.find(t)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||T.name,this.metadata=t?.metadata||(0,_.D)();let r="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,E.pino)((0,E.getDefaultLoggerOptions)({level:t?.logger||T.logger}));this.core=t?.core||new w.QY(t),this.logger=(0,E.generateChildLogger)(r,this.name),this.session=new ds(this.core,this.logger),this.proposal=new hs(this.core,this.logger),this.pendingRequest=new us(this.core,this.logger),this.engine=new ps(this)}static async init(t){let r=new Q(t);return await r.initialize(),r}get context(){return(0,E.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var ed=i(54098),eg=i.n(ed),em=i(85094);let ey={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};let HttpConnection=class HttpConnection{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new c.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,A.isHttpUrl)(t))throw Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(t,r){this.isAvailable||await this.register();try{let r=(0,em.u)(t),i=await eg()(this.url,Object.assign(Object.assign({},ey),{body:r})),c=await i.json();this.onPayload({data:c})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!(0,A.isHttpUrl)(t))throw Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((t,r)=>{this.events.once("register_error",t=>{this.resetMaxListeners(),r(t)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return r(Error("HTTP connection is missing or invalid"));t()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){let r=(0,em.u)({id:1,jsonrpc:"2.0",method:"test",params:[]});await eg()(t,Object.assign(Object.assign({},ey),{body:r}))}this.onOpen()}catch(r){let t=this.parseError(r);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(void 0===t.data)return;let r="string"==typeof t.data?(0,em.D)(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let i=this.parseError(r),c=i.message||i.toString(),u=(0,A.formatJsonRpcError)(t,c);this.events.emit("payload",u)}parseError(t,r=this.url){return(0,A.parseConnectionError)(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}};var e_=i(46160);let ew="error",eI="wc@2:universal_provider:",eb={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var eE="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof i.g?i.g:"u">typeof self?self:{},eP={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(t,r){(function(){var i,c="Expected a function",u="__lodash_hash_undefined__",_="__lodash_placeholder__",w=1/0,E=0/0,P=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],C="[object Arguments]",A="[object Array]",q="[object Boolean]",$="[object Date]",T="[object Error]",U="[object Function]",J="[object GeneratorFunction]",B="[object Map]",X="[object Number]",ee="[object Object]",et="[object Promise]",es="[object RegExp]",eo="[object Set]",ec="[object String]",el="[object Symbol]",eh="[object WeakMap]",ep="[object ArrayBuffer]",ef="[object DataView]",ed="[object Float32Array]",eg="[object Float64Array]",em="[object Int8Array]",ey="[object Int16Array]",e_="[object Int32Array]",ew="[object Uint8Array]",eI="[object Uint8ClampedArray]",eb="[object Uint16Array]",eP="[object Uint32Array]",eC=/\b__p \+= '';/g,eR=/\b(__p \+=) '' \+/g,eS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eO=/&(?:amp|lt|gt|quot|#39);/g,ex=/[&<>"']/g,eA=RegExp(eO.source),eN=RegExp(ex.source),eq=/<%-([\s\S]+?)%>/g,ej=/<%([\s\S]+?)%>/g,eD=/<%=([\s\S]+?)%>/g,eL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eM=/^\w*$/,e$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eT=/[\\^$.*+?()[\]{}|]/g,eH=RegExp(eT.source),ek=/^\s+/,eU=/\s/,eW=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eV=/\{\n\/\* \[wrapped with (.+)\] \*/,ez=/,? & /,eG=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eZ=/[()=,{}\[\]\/\s]/,eK=/\\(\\)?/g,eF=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eJ=/\w*$/,eY=/^[-+]0x[0-9a-f]+$/i,eB=/^0b[01]+$/i,eQ=/^\[object .+?Constructor\]$/,eX=/^0o[0-7]+$/i,e0=/^(?:0|[1-9]\d*)$/,e1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,e2=/($^)/,e3=/['\n\r\u2028\u2029\\]/g,e9="\ud800-\udfff",e7="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e4="\\u2700-\\u27bf",e6="a-z\\xdf-\\xf6\\xf8-\\xff",e5="A-Z\\xc0-\\xd6\\xd8-\\xde",e8="\\ufe0e\\ufe0f",te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="['’]",ts="["+te+"]",ta="["+e7+"]",to="["+e6+"]",tc="[^"+e9+te+"\\d+"+e4+e6+e5+"]",tl="\ud83c[\udffb-\udfff]",th="[^"+e9+"]",tp="(?:\ud83c[\udde6-\uddff]){2}",tf="[\ud800-\udbff][\udc00-\udfff]",td="["+e5+"]",tg="\\u200d",tm="(?:"+to+"|"+tc+")",ty="(?:"+tn+"(?:d|ll|m|re|s|t|ve))?",t_="(?:"+tn+"(?:D|LL|M|RE|S|T|VE))?",tw="(?:"+ta+"|"+tl+")?",tI="["+e8+"]?",tb="(?:"+tg+"(?:"+[th,tp,tf].join("|")+")"+tI+tw+")*",tE=tI+tw+tb,tP="(?:"+["["+e4+"]",tp,tf].join("|")+")"+tE,tC="(?:"+[th+ta+"?",ta,tp,tf,"["+e9+"]"].join("|")+")",tR=RegExp(tn,"g"),tS=RegExp(ta,"g"),tO=RegExp(tl+"(?="+tl+")|"+tC+tE,"g"),tx=RegExp([td+"?"+to+"+"+ty+"(?="+[ts,td,"$"].join("|")+")","(?:"+td+"|"+tc+")+"+t_+"(?="+[ts,td+tm,"$"].join("|")+")",td+"?"+tm+"+"+ty,td+"+"+t_,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",tP].join("|"),"g"),tA=RegExp("["+tg+e9+e7+e8+"]"),tN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tq=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tj=-1,tD={};tD[ed]=tD[eg]=tD[em]=tD[ey]=tD[e_]=tD[ew]=tD[eI]=tD[eb]=tD[eP]=!0,tD[C]=tD[A]=tD[ep]=tD[q]=tD[ef]=tD[$]=tD[T]=tD[U]=tD[B]=tD[X]=tD[ee]=tD[es]=tD[eo]=tD[ec]=tD[eh]=!1;var tL={};tL[C]=tL[A]=tL[ep]=tL[ef]=tL[q]=tL[$]=tL[ed]=tL[eg]=tL[em]=tL[ey]=tL[e_]=tL[B]=tL[X]=tL[ee]=tL[es]=tL[eo]=tL[ec]=tL[el]=tL[ew]=tL[eI]=tL[eb]=tL[eP]=!0,tL[T]=tL[U]=tL[eh]=!1;var tM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t$=parseFloat,tT=parseInt,tH="object"==typeof eE&&eE&&eE.Object===Object&&eE,tk="object"==typeof self&&self&&self.Object===Object&&self,tU=tH||tk||Function("return this")(),tW=r&&!r.nodeType&&r,tV=tW&&t&&!t.nodeType&&t,tz=tV&&tV.exports===tW,tG=tz&&tH.process,tZ=function(){try{return tV&&tV.require&&tV.require("util").types||tG&&tG.binding&&tG.binding("util")}catch{}}(),tK=tZ&&tZ.isArrayBuffer,tF=tZ&&tZ.isDate,tJ=tZ&&tZ.isMap,tY=tZ&&tZ.isRegExp,tB=tZ&&tZ.isSet,tQ=tZ&&tZ.isTypedArray;function cn(t,r,i){switch(i.length){case 0:return t.call(r);case 1:return t.call(r,i[0]);case 2:return t.call(r,i[0],i[1]);case 3:return t.call(r,i[0],i[1],i[2])}return t.apply(r,i)}function Vo(t,r,i,c){for(var u=-1,_=null==t?0:t.length;++u<_;){var w=t[u];r(c,w,i(w),t)}return c}function mn(t,r){for(var i=-1,c=null==t?0:t.length;++i<c&&!1!==r(t[i],i,t););return t}function As(t,r){for(var i=-1,c=null==t?0:t.length;++i<c;)if(!r(t[i],i,t))return!1;return!0}function jn(t,r){for(var i=-1,c=null==t?0:t.length,u=0,_=[];++i<c;){var w=t[i];r(w,i,t)&&(_[u++]=w)}return _}function Ee(t,r){return!!(null==t?0:t.length)&&Tt(t,r,0)>-1}function Dr(t,r,i){for(var c=-1,u=null==t?0:t.length;++c<u;)if(i(r,t[c]))return!0;return!1}function G(t,r){for(var i=-1,c=null==t?0:t.length,u=Array(c);++i<c;)u[i]=r(t[i],i,t);return u}function nt(t,r){for(var i=-1,c=r.length,u=t.length;++i<c;)t[u+i]=r[i];return t}function Hr(t,r,i,c){var u=-1,_=null==t?0:t.length;for(c&&_&&(i=t[++u]);++u<_;)i=r(i,t[u],u,t);return i}function jo(t,r,i,c){var u=null==t?0:t.length;for(c&&u&&(i=t[--u]);u--;)i=r(i,t[u],u,t);return i}function Nr(t,r){for(var i=-1,c=null==t?0:t.length;++i<c;)if(r(t[i],i,t))return!0;return!1}var tX=$r("length");function Cs(t,r,i){var c;return i(t,function(t,i,u){if(r(t,i,u))return c=i,!1}),c}function ye(t,r,i,c){for(var u=t.length,_=i+(c?1:-1);c?_--:++_<u;)if(r(t[_],_,t))return _;return -1}function Tt(t,r,i){return r==r?function(t,r,i){for(var c=i-1,u=t.length;++c<u;)if(t[c]===r)return c;return -1}(t,r,i):ye(t,Is,i)}function rf(t,r,i,c){for(var u=i-1,_=t.length;++u<_;)if(c(t[u],r))return u;return -1}function Is(t){return t!=t}function xs(t,r){var i=null==t?0:t.length;return i?Wr(t,r)/i:E}function $r(t){return function(r){return null==r?i:r[t]}}function Ur(t){return function(r){return null==t?i:t[r]}}function Es(t,r,i,c,u){return u(t,function(t,u,_){i=c?(c=!1,t):r(i,t,u,_)}),i}function Wr(t,r){for(var c,u=-1,_=t.length;++u<_;){var w=r(t[u]);w!==i&&(c=c===i?w:c+w)}return c}function Fr(t,r){for(var i=-1,c=Array(t);++i<t;)c[i]=r(i);return c}function ys(t){return t&&t.slice(0,bs(t)+1).replace(ek,"")}function hn(t){return function(r){return t(r)}}function Mr(t,r){return G(r,function(r){return t[r]})}function jt(t,r){return t.has(r)}function Ss(t,r){for(var i=-1,c=t.length;++i<c&&Tt(r,t[i],0)>-1;);return i}function Os(t,r){for(var i=t.length;i--&&Tt(r,t[i],0)>-1;);return i}var t0=Ur({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),t1=Ur({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cf(t){return"\\"+tM[t]}function Lt(t){return tA.test(t)}function qr(t){var r=-1,i=Array(t.size);return t.forEach(function(t,c){i[++r]=[c,t]}),i}function Rs(t,r){return function(i){return t(r(i))}}function tt(t,r){for(var i=-1,c=t.length,u=0,w=[];++i<c;){var E=t[i];(E===r||E===_)&&(t[i]=_,w[u++]=i)}return w}function Se(t){var r=-1,i=Array(t.size);return t.forEach(function(t){i[++r]=t}),i}function Dt(t){return Lt(t)?function(t){for(var r=tO.lastIndex=0;tO.test(t);)++r;return r}(t):tX(t)}function On(t){return Lt(t)?t.match(tO)||[]:t.split("")}function bs(t){for(var r=t.length;r--&&eU.test(t.charAt(r)););return r}var t2=Ur({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),t3=function h(t){var r,eE,eU,e9,e7=(t=null==t?tU:t3.defaults(tU.Object(),t,t3.pick(tU,tq))).Array,e4=t.Date,e6=t.Error,e5=t.Function,e8=t.Math,te=t.Object,tn=t.RegExp,ts=t.String,ta=t.TypeError,to=e7.prototype,tc=e5.prototype,tl=te.prototype,th=t["__core-js_shared__"],tp=tc.toString,tf=tl.hasOwnProperty,td=0,tg=(r=/[^.]+$/.exec(th&&th.keys&&th.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",tm=tl.toString,ty=tp.call(te),t_=tU._,tw=tn("^"+tp.call(tf).replace(eT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tI=tz?t.Buffer:i,tb=t.Symbol,tE=t.Uint8Array,tP=tI?tI.allocUnsafe:i,tC=Rs(te.getPrototypeOf,te),tO=te.create,tA=tl.propertyIsEnumerable,tM=to.splice,tH=tb?tb.isConcatSpreadable:i,tk=tb?tb.iterator:i,tW=tb?tb.toStringTag:i,tV=function(){try{var t=mt(te,"defineProperty");return t({},"",{}),t}catch{}}(),tG=t.clearTimeout!==tU.clearTimeout&&t.clearTimeout,tZ=e4&&e4.now!==tU.Date.now&&e4.now,tX=t.setTimeout!==tU.setTimeout&&t.setTimeout,t9=e8.ceil,t7=e8.floor,t4=te.getOwnPropertySymbols,t6=tI?tI.isBuffer:i,t5=t.isFinite,t8=to.join,ne=Rs(te.keys,te),nn=e8.max,ns=e8.min,no=e4.now,nc=t.parseInt,nl=e8.random,nh=to.reverse,np=mt(t,"DataView"),nf=mt(t,"Map"),nd=mt(t,"Promise"),ng=mt(t,"Set"),nm=mt(t,"WeakMap"),ny=mt(te,"create"),n_=nm&&new nm,nw={},nI=wt(np),nb=wt(nf),nE=wt(nd),nP=wt(ng),nC=wt(nm),nR=tb?tb.prototype:i,nS=nR?nR.valueOf:i,nO=nR?nR.toString:i;function a(t){if(Y(t)&&!rS(t)&&!(t instanceof H)){if(t instanceof Pn)return t;if(tf.call(t,"__wrapped__"))return Fu(t)}return new Pn(t)}var nx=function(){function n(){}return function(t){if(!K(t))return{};if(tO)return tO(t);n.prototype=t;var r=new n;return n.prototype=i,r}}();function qe(){}function Pn(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=i}function H(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function dt(t){var r=-1,i=null==t?0:t.length;for(this.clear();++r<i;){var c=t[r];this.set(c[0],c[1])}}function Bn(t){var r=-1,i=null==t?0:t.length;for(this.clear();++r<i;){var c=t[r];this.set(c[0],c[1])}}function Gn(t){var r=-1,i=null==t?0:t.length;for(this.clear();++r<i;){var c=t[r];this.set(c[0],c[1])}}function gt(t){var r=-1,i=null==t?0:t.length;for(this.__data__=new Gn;++r<i;)this.add(t[r])}function Rn(t){var r=this.__data__=new Bn(t);this.size=r.size}function Fs(t,r){var i=rS(t),c=!i&&rR(t),u=!i&&!c&&rx(t),_=!i&&!c&&!u&&rD(t),w=i||c||u||_,E=w?Fr(t.length,ts):[],P=E.length;for(var C in t)(r||tf.call(t,C))&&!(w&&("length"==C||u&&("offset"==C||"parent"==C)||_&&("buffer"==C||"byteLength"==C||"byteOffset"==C)||Zn(C,P)))&&E.push(C);return E}function Ms(t){var r=t.length;return r?t[ei(0,r-1)]:i}function Yr(t,r,c){(c===i||bn(t[r],c))&&(c!==i||r in t)||zn(t,r,c)}function se(t,r,c){var u=t[r];tf.call(t,r)&&bn(u,c)&&(c!==i||r in t)||zn(t,r,c)}function Be(t,r){for(var i=t.length;i--;)if(bn(t[i][0],r))return i;return -1}function gc(t,r,i,c){return nA(t,function(t,u,_){r(c,t,i(t),_)}),c}function qs(t,r){return t&&Un(r,V(r),t)}function zn(t,r,i){"__proto__"==r&&tV?tV(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}function Zr(t,r){for(var c=-1,u=r.length,_=e7(u),w=null==t;++c<u;)_[c]=w?i:Si(t,r[c]);return _}function vt(t,r,c){return t==t&&(c!==i&&(t=t<=c?t:c),r!==i&&(t=t>=r?t:r)),t}function An(t,r,c,u,_,w){var E,P=1&r,A=2&r,T=4&r;if(c&&(E=_?c(t,u,_,w):c(t)),E!==i)return E;if(!K(t))return t;var et=rS(t);if(et){if(eh=t.length,eE=new t.constructor(eh),eh&&"string"==typeof t[0]&&tf.call(t,"index")&&(eE.index=t.index,eE.input=t.input),E=eE,!P)return un(t,E)}else{var eh,eE,eC,eR,eS,eO=nU(t),ex=eO==U||eO==J;if(rx(t))return hu(t,P);if(eO==ee||eO==C||ex&&!_){if(E=A||ex?{}:bu(t),!P)return A?(eC=(eS=E)&&Un(t,on(t),eS),Un(t,nk(t),eC)):(eR=qs(E,t),Un(t,nH(t),eR))}else{if(!tL[eO])return _?t:{};E=function(t,r,i){var c,u,_=t.constructor;switch(r){case ep:return fi(t);case q:case $:return new _(+t);case ef:return c=i?fi(t.buffer):t.buffer,new t.constructor(c,t.byteOffset,t.byteLength);case ed:case eg:case em:case ey:case e_:case ew:case eI:case eb:case eP:return lu(t,i);case B:return new _;case X:case ec:return new _(t);case es:return(u=new t.constructor(t.source,eJ.exec(t))).lastIndex=t.lastIndex,u;case eo:return new _;case el:return nS?te(nS.call(t)):{}}}(t,eO,P)}}w||(w=new Rn);var eA=w.get(t);if(eA)return eA;w.set(t,E),rj(t)?t.forEach(function(i){E.add(An(i,r,c,i,t,w))}):rN(t)&&t.forEach(function(i,u){E.set(u,An(i,r,c,u,t,w))});var eN=T?A?pi:li:A?on:V,eq=et?i:eN(t);return mn(eq||t,function(i,u){eq&&(i=t[u=i]),se(E,u,An(i,r,c,u,t,w))}),E}function Bs(t,r,c){var u=c.length;if(null==t)return!u;for(t=te(t);u--;){var _=c[u],w=r[_],E=t[_];if(E===i&&!(_ in t)||!w(E))return!1}return!0}function Gs(t,r,u){if("function"!=typeof t)throw new ta(c);return nz(function(){t.apply(i,u)},r)}function ue(t,r,i,c){var u=-1,_=Ee,w=!0,E=t.length,P=[],C=r.length;if(!E)return P;i&&(r=G(r,hn(i))),c?(_=Dr,w=!1):r.length>=200&&(_=jt,w=!1,r=new gt(r));e:for(;++u<E;){var A=t[u],q=null==i?A:i(A);if(A=c||0!==A?A:0,w&&q==q){for(var $=C;$--;)if(r[$]===q)continue e;P.push(A)}else _(r,q,c)||P.push(A)}return P}a.templateSettings={escape:eq,evaluate:ej,interpolate:eD,variable:"",imports:{_:a}},a.prototype=qe.prototype,a.prototype.constructor=a,Pn.prototype=nx(qe.prototype),Pn.prototype.constructor=Pn,H.prototype=nx(qe.prototype),H.prototype.constructor=H,dt.prototype.clear=function(){this.__data__=ny?ny(null):{},this.size=0},dt.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},dt.prototype.get=function(t){var r=this.__data__;if(ny){var c=r[t];return c===u?i:c}return tf.call(r,t)?r[t]:i},dt.prototype.has=function(t){var r=this.__data__;return ny?r[t]!==i:tf.call(r,t)},dt.prototype.set=function(t,r){var c=this.__data__;return this.size+=this.has(t)?0:1,c[t]=ny&&r===i?u:r,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(t){var r=this.__data__,i=Be(r,t);return!(i<0)&&(i==r.length-1?r.pop():tM.call(r,i,1),--this.size,!0)},Bn.prototype.get=function(t){var r=this.__data__,c=Be(r,t);return c<0?i:r[c][1]},Bn.prototype.has=function(t){return Be(this.__data__,t)>-1},Bn.prototype.set=function(t,r){var i=this.__data__,c=Be(i,t);return c<0?(++this.size,i.push([t,r])):i[c][1]=r,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new dt,map:new(nf||Bn),string:new dt}},Gn.prototype.delete=function(t){var r=nr(this,t).delete(t);return this.size-=r?1:0,r},Gn.prototype.get=function(t){return nr(this,t).get(t)},Gn.prototype.has=function(t){return nr(this,t).has(t)},Gn.prototype.set=function(t,r){var i=nr(this,t),c=i.size;return i.set(t,r),this.size+=i.size==c?0:1,this},gt.prototype.add=gt.prototype.push=function(t){return this.__data__.set(t,u),this},gt.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.clear=function(){this.__data__=new Bn,this.size=0},Rn.prototype.delete=function(t){var r=this.__data__,i=r.delete(t);return this.size=r.size,i},Rn.prototype.get=function(t){return this.__data__.get(t)},Rn.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.set=function(t,r){var i=this.__data__;if(i instanceof Bn){var c=i.__data__;if(!nf||c.length<199)return c.push([t,r]),this.size=++i.size,this;i=this.__data__=new Gn(c)}return i.set(t,r),this.size=i.size,this};var nA=vu($n),nN=vu(Xr,!0);function mc(t,r){var i=!0;return nA(t,function(t,c,u){return i=!!r(t,c,u)}),i}function Ge(t,r,c){for(var u=-1,_=t.length;++u<_;){var w=t[u],E=r(w);if(null!=E&&(P===i?E==E&&!pn(E):c(E,P)))var P=E,C=w}return C}function Ks(t,r){var i=[];return nA(t,function(t,c,u){r(t,c,u)&&i.push(t)}),i}function j(t,r,i,c,u){var _=-1,w=t.length;for(i||(i=ah),u||(u=[]);++_<w;){var E=t[_];r>0&&i(E)?r>1?j(E,r-1,i,c,u):nt(u,E):c||(u[u.length]=E)}return u}var nq=_u(),nj=_u(!0);function $n(t,r){return t&&nq(t,r,V)}function Xr(t,r){return t&&nj(t,r,V)}function ze(t,r){return jn(r,function(r){return Jn(t[r])})}function _t(t,r){r=st(r,t);for(var c=0,u=r.length;null!=t&&c<u;)t=t[Wn(r[c++])];return c&&c==u?t:i}function Zs(t,r,i){var c=r(t);return rS(t)?c:nt(c,i(t))}function en(t){return null==t?t===i?"[object Undefined]":"[object Null]":tW&&tW in te(t)?function(t){var r=tf.call(t,tW),c=t[tW];try{t[tW]=i;var u=!0}catch{}var _=tm.call(t);return u&&(r?t[tW]=c:delete t[tW]),_}(t):tm.call(t)}function Qr(t,r){return t>r}function Pc(t,r){return null!=t&&tf.call(t,r)}function Ac(t,r){return null!=t&&r in te(t)}function Vr(t,r,c){for(var u=c?Dr:Ee,_=t[0].length,w=t.length,E=w,P=e7(w),C=1/0,A=[];E--;){var q=t[E];E&&r&&(q=G(q,hn(r))),C=ns(q.length,C),P[E]=!c&&(r||_>=120&&q.length>=120)?new gt(E&&q):i}q=t[0];var $=-1,T=P[0];e:for(;++$<_&&A.length<C;){var U=q[$],J=r?r(U):U;if(U=c||0!==U?U:0,!(T?jt(T,J):u(A,J,c))){for(E=w;--E;){var B=P[E];if(!(B?jt(B,J):u(t[E],J,c)))continue e}T&&T.push(J),A.push(U)}}return A}function ae(t,r,c){r=st(r,t);var u=null==(t=Hu(t,r))?t:t[Wn(In(r))];return null==u?i:cn(u,t,c)}function Js(t){return Y(t)&&en(t)==C}function oe(t,r,c,u,_){return t===r||(null!=t&&null!=r&&(Y(t)||Y(r))?function(t,r,c,u,_,w){var E=rS(t),P=rS(r),U=E?A:nU(t),J=P?A:nU(r);U=U==C?ee:U,J=J==C?ee:J;var et=U==ee,eh=J==ee,ed=U==J;if(ed&&rx(t)){if(!rx(r))return!1;E=!0,et=!1}if(ed&&!et)return w||(w=new Rn),E||rD(t)?Su(t,r,c,u,_,w):function(t,r,i,c,u,_,w){switch(i){case ef:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)break;t=t.buffer,r=r.buffer;case ep:return!(t.byteLength!=r.byteLength||!_(new tE(t),new tE(r)));case q:case $:case X:return bn(+t,+r);case T:return t.name==r.name&&t.message==r.message;case es:case ec:return t==r+"";case B:var E=qr;case eo:var P=1&c;if(E||(E=Se),t.size!=r.size&&!P)break;var C=w.get(t);if(C)return C==r;c|=2,w.set(t,r);var A=Su(E(t),E(r),c,u,_,w);return w.delete(t),A;case el:if(nS)return nS.call(t)==nS.call(r)}return!1}(t,r,U,c,u,_,w);if(!(1&c)){var eg=et&&tf.call(t,"__wrapped__"),em=eh&&tf.call(r,"__wrapped__");if(eg||em){var ey=eg?t.value():t,e_=em?r.value():r;return w||(w=new Rn),_(ey,e_,c,u,w)}}return!!ed&&(w||(w=new Rn),function(t,r,c,u,_,w){var E=1&c,P=li(t),C=P.length;if(C!=li(r).length&&!E)return!1;for(var A=C;A--;){var q=P[A];if(!(E?q in r:tf.call(r,q)))return!1}var $=w.get(t),T=w.get(r);if($&&T)return $==r&&T==t;var U=!0;w.set(t,r),w.set(r,t);for(var J=E;++A<C;){var B=t[q=P[A]],X=r[q];if(u)var ee=E?u(X,B,q,r,t,w):u(B,X,q,t,r,w);if(!(ee===i?B===X||_(B,X,c,u,w):ee)){U=!1;break}J||(J="constructor"==q)}if(U&&!J){var et=t.constructor,es=r.constructor;et!=es&&"constructor"in t&&"constructor"in r&&!("function"==typeof et&&et instanceof et&&"function"==typeof es&&es instanceof es)&&(U=!1)}return w.delete(t),w.delete(r),U}(t,r,c,u,_,w))}(t,r,c,u,oe,_):t!=t&&r!=r)}function kr(t,r,c,u){var _=c.length,w=_,E=!u;if(null==t)return!w;for(t=te(t);_--;){var P=c[_];if(E&&P[2]?P[1]!==t[P[0]]:!(P[0]in t))return!1}for(;++_<w;){var C=(P=c[_])[0],A=t[C],q=P[1];if(E&&P[2]){if(A===i&&!(C in t))return!1}else{var $=new Rn;if(u)var T=u(A,q,C,t,r,$);if(!(T===i?oe(q,A,3,u,$):T))return!1}}return!0}function Xs(t){return!(!K(t)||tg&&tg in t)&&(Jn(t)?tw:eQ).test(wt(t))}function Qs(t){return"function"==typeof t?t:null==t?fn:"object"==typeof t?rS(t)?js(t[0],t[1]):ks(t):ma(t)}function jr(t){if(!he(t))return ne(t);var r=[];for(var i in te(t))tf.call(t,i)&&"constructor"!=i&&r.push(i);return r}function ni(t,r){return t<r}function Vs(t,r){var i=-1,c=an(t)?e7(t.length):[];return nA(t,function(t,u,_){c[++i]=r(t,u,_)}),c}function ks(t){var r=gi(t);return 1==r.length&&r[0][2]?Lu(r[0][0],r[0][1]):function(i){return i===t||kr(i,t,r)}}function js(t,r){var c;return _i(t)&&(c=r)==c&&!K(c)?Lu(Wn(t),r):function(c){var u=Si(c,t);return u===i&&u===r?Oi(c,t):oe(r,u,3)}}function Ke(t,r,c,u,_){t!==r&&nq(r,function(w,E){if(_||(_=new Rn),K(w))!function(t,r,c,u,_,w,E){var P=wi(t,c),C=wi(r,c),A=E.get(C);if(A){Yr(t,c,A);return}var q=w?w(P,C,c+"",t,r,E):i,$=q===i;if($){var T=rS(C),U=!T&&rx(C),J=!T&&!U&&rD(C);q=C,T||U||J?rS(P)?q=P:Z(P)?q=un(P):U?($=!1,q=hu(C,!0)):J?($=!1,q=lu(C,!0)):q=[]:pe(C)||rR(C)?(q=P,rR(P)?q=oa(P):(!K(P)||Jn(P))&&(q=bu(C))):$=!1}$&&(E.set(C,q),_(q,C,u,w,E),E.delete(C)),Yr(t,c,q)}(t,r,E,c,Ke,u,_);else{var P=u?u(wi(t,E),w,E+"",t,r,_):i;P===i&&(P=w),Yr(t,E,P)}},on)}function nu(t,r){var c=t.length;if(c)return Zn(r+=r<0?c:0,c)?t[r]:i}function tu(t,r,i){r=r.length?G(r,function(t){return rS(t)?function(r){return _t(r,1===t.length?t[0]:t)}:t}):[fn];var c=-1;return r=G(r,hn(x())),function(t,r){var i=t.length;for(t.sort(r);i--;)t[i]=t[i].value;return t}(Vs(t,function(t,i,u){return{criteria:G(r,function(r){return r(t)}),index:++c,value:t}}),function(t,r){return function(t,r,i){for(var c=-1,u=t.criteria,_=r.criteria,w=u.length,E=i.length;++c<w;){var P=pu(u[c],_[c]);if(P){if(c>=E)return P;return P*("desc"==i[c]?-1:1)}}return t.index-r.index}(t,r,i)})}function eu(t,r,i){for(var c=-1,u=r.length,_={};++c<u;){var w=r[c],E=_t(t,w);i(E,w)&&fe(_,st(w,t),E)}return _}function ti(t,r,i,c){var u=c?rf:Tt,_=-1,w=r.length,E=t;for(t===r&&(r=un(r)),i&&(E=G(t,hn(i)));++_<w;)for(var P=0,C=r[_],A=i?i(C):C;(P=u(E,A,P,c))>-1;)E!==t&&tM.call(E,P,1),tM.call(t,P,1);return t}function ru(t,r){for(var i=t?r.length:0,c=i-1;i--;){var u=r[i];if(i==c||u!==_){var _=u;Zn(u)?tM.call(t,u,1):si(t,u)}}return t}function ei(t,r){return t+t7(nl()*(r-t+1))}function ri(t,r){var i="";if(!t||r<1||r>9007199254740991)return i;do r%2&&(i+=t),(r=t7(r/2))&&(t+=t);while(r);return i}function L(t,r){return nG(Du(t,r,fn),t+"")}function fe(t,r,c,u){if(!K(t))return t;r=st(r,t);for(var _=-1,w=r.length,E=w-1,P=t;null!=P&&++_<w;){var C=Wn(r[_]),A=c;if("__proto__"===C||"constructor"===C||"prototype"===C)break;if(_!=E){var q=P[C];(A=u?u(q,C,P):i)===i&&(A=K(q)?q:Zn(r[_+1])?[]:{})}se(P,C,A),P=P[C]}return t}var nD=n_?function(t,r){return n_.set(t,r),t}:fn,nL=tV?function(t,r){return tV(t,"toString",{configurable:!0,enumerable:!1,value:bi(r),writable:!0})}:fn;function Cn(t,r,i){var c=-1,u=t.length;r<0&&(r=-r>u?0:u+r),(i=i>u?u:i)<0&&(i+=u),u=r>i?0:i-r>>>0,r>>>=0;for(var _=e7(u);++c<u;)_[c]=t[c+r];return _}function Mc(t,r){var i;return nA(t,function(t,c,u){return!(i=r(t,c,u))}),!!i}function Ye(t,r,i){var c=0,u=null==t?c:t.length;if("number"==typeof r&&r==r&&u<=2147483647){for(;c<u;){var _=c+u>>>1,w=t[_];null!==w&&!pn(w)&&(i?w<=r:w<r)?c=_+1:u=_}return u}return ii(t,r,fn,i)}function ii(t,r,c,u){var _=0,w=null==t?0:t.length;if(0===w)return 0;r=c(r);for(var E=r!=r,P=null===r,C=pn(r),A=r===i;_<w;){var q=t7((_+w)/2),$=c(t[q]),T=$!==i,U=null===$,J=$==$,B=pn($);if(E)var X=u||J;else X=A?J&&(u||T):P?J&&T&&(u||!U):C?J&&T&&!U&&(u||!B):!U&&!B&&(u?$<=r:$<r);X?_=q+1:w=q}return ns(w,4294967294)}function su(t,r){for(var i=-1,c=t.length,u=0,_=[];++i<c;){var w=t[i],E=r?r(w):w;if(!i||!bn(E,P)){var P=E;_[u++]=0===w?0:w}}return _}function uu(t){return"number"==typeof t?t:pn(t)?E:+t}function ln(t){if("string"==typeof t)return t;if(rS(t))return G(t,ln)+"";if(pn(t))return nO?nO.call(t):"";var r=t+"";return"0"==r&&1/t==-w?"-0":r}function it(t,r,i){var c=-1,u=Ee,_=t.length,w=!0,E=[],P=E;if(i)w=!1,u=Dr;else if(_>=200){var C=r?null:n$(t);if(C)return Se(C);w=!1,u=jt,P=new gt}else P=r?[]:E;e:for(;++c<_;){var A=t[c],q=r?r(A):A;if(A=i||0!==A?A:0,w&&q==q){for(var $=P.length;$--;)if(P[$]===q)continue e;r&&P.push(q),E.push(A)}else u(P,q,i)||(P!==E&&P.push(q),E.push(A))}return E}function si(t,r){return r=st(r,t),null==(t=Hu(t,r))||delete t[Wn(In(r))]}function au(t,r,i,c){return fe(t,r,i(_t(t,r)),c)}function Ze(t,r,i,c){for(var u=t.length,_=c?u:-1;(c?_--:++_<u)&&r(t[_],_,t););return i?Cn(t,c?0:_,c?_+1:u):Cn(t,c?_+1:0,c?u:_)}function ou(t,r){var i=t;return i instanceof H&&(i=i.value()),Hr(r,function(t,r){return r.func.apply(r.thisArg,nt([t],r.args))},i)}function ui(t,r,i){var c=t.length;if(c<2)return c?it(t[0]):[];for(var u=-1,_=e7(c);++u<c;)for(var w=t[u],E=-1;++E<c;)E!=u&&(_[u]=ue(_[u]||w,t[E],r,i));return it(j(_,1),r,i)}function fu(t,r,c){for(var u=-1,_=t.length,w=r.length,E={};++u<_;){var P=u<w?r[u]:i;c(E,t[u],P)}return E}function ai(t){return Z(t)?t:[]}function oi(t){return"function"==typeof t?t:fn}function st(t,r){return rS(t)?t:_i(t,r)?[t]:nZ(W(t))}function ut(t,r,c){var u=t.length;return c=c===i?u:c,!r&&c>=u?t:Cn(t,r,c)}var nM=tG||function(t){return tU.clearTimeout(t)};function hu(t,r){if(r)return t.slice();var i=t.length,c=tP?tP(i):new t.constructor(i);return t.copy(c),c}function fi(t){var r=new t.constructor(t.byteLength);return new tE(r).set(new tE(t)),r}function lu(t,r){var i=r?fi(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function pu(t,r){if(t!==r){var c=t!==i,u=null===t,_=t==t,w=pn(t),E=r!==i,P=null===r,C=r==r,A=pn(r);if(!P&&!A&&!w&&t>r||w&&E&&C&&!P&&!A||u&&E&&C||!c&&C||!_)return 1;if(!u&&!w&&!A&&t<r||A&&c&&_&&!u&&!w||P&&c&&_||!E&&_||!C)return -1}return 0}function du(t,r,i,c){for(var u=-1,_=t.length,w=i.length,E=-1,P=r.length,C=nn(_-w,0),A=e7(P+C),q=!c;++E<P;)A[E]=r[E];for(;++u<w;)(q||u<_)&&(A[i[u]]=t[u]);for(;C--;)A[E++]=t[u++];return A}function gu(t,r,i,c){for(var u=-1,_=t.length,w=-1,E=i.length,P=-1,C=r.length,A=nn(_-E,0),q=e7(A+C),$=!c;++u<A;)q[u]=t[u];for(var T=u;++P<C;)q[T+P]=r[P];for(;++w<E;)($||u<_)&&(q[T+i[w]]=t[u++]);return q}function un(t,r){var i=-1,c=t.length;for(r||(r=e7(c));++i<c;)r[i]=t[i];return r}function Un(t,r,c,u){var _=!c;c||(c={});for(var w=-1,E=r.length;++w<E;){var P=r[w],C=u?u(c[P],t[P],P,c,t):i;C===i&&(C=t[P]),_?zn(c,P,C):se(c,P,C)}return c}function Je(t,r){return function(i,c){var u=rS(i)?Vo:gc,_=r?r():{};return u(i,t,x(c,2),_)}}function Ft(t){return L(function(r,c){var u=-1,_=c.length,w=_>1?c[_-1]:i,E=_>2?c[2]:i;for(w=t.length>3&&"function"==typeof w?(_--,w):i,E&&rn(c[0],c[1],E)&&(w=_<3?i:w,_=1),r=te(r);++u<_;){var P=c[u];P&&t(r,P,u,w)}return r})}function vu(t,r){return function(i,c){if(null==i)return i;if(!an(i))return t(i,c);for(var u=i.length,_=r?u:-1,w=te(i);(r?_--:++_<u)&&!1!==c(w[_],_,w););return i}}function _u(t){return function(r,i,c){for(var u=-1,_=te(r),w=c(r),E=w.length;E--;){var P=w[t?E:++u];if(!1===i(_[P],P,_))break}return r}}function mu(t){return function(r){var c=Lt(r=W(r))?On(r):i,u=c?c[0]:r.charAt(0),_=c?ut(c,1).join(""):r.slice(1);return u[t]()+_}}function Mt(t){return function(r){return Hr(va(ga(r).replace(tR,"")),t,"")}}function ce(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var i=nx(t.prototype),c=t.apply(i,r);return K(c)?c:i}}function wu(t){return function(r,c,u){var _=te(r);if(!an(r)){var w=x(c,3);r=V(r),c=function(t){return w(_[t],t,_)}}var E=t(r,c,u);return E>-1?_[w?r[E]:E]:i}}function Pu(t){return Yn(function(r){var u=r.length,_=u,w=Pn.prototype.thru;for(t&&r.reverse();_--;){var E=r[_];if("function"!=typeof E)throw new ta(c);if(w&&!P&&"wrapper"==je(E))var P=new Pn([],!0)}for(_=P?_:u;++_<u;){var C=je(E=r[_]),A="wrapper"==C?nT(E):i;P=A&&mi(A[0])&&424==A[1]&&!A[4].length&&1==A[9]?P[je(A[0])].apply(P,A[3]):1==E.length&&mi(E)?P[C]():P.thru(E)}return function(){var t=arguments,i=t[0];if(P&&1==t.length&&rS(i))return P.plant(i).value();for(var c=0,_=u?r[c].apply(this,t):i;++c<u;)_=r[c].call(this,_);return _}})}function Xe(t,r,c,u,_,w,E,P,C,A){var q=128&r,$=1&r,T=2&r,U=24&r,J=512&r,B=T?i:ce(t);return function y(){for(var X=arguments.length,ee=e7(X),et=X;et--;)ee[et]=arguments[et];if(U)var es=qt(y),eo=function(t,r){for(var i=t.length,c=0;i--;)t[i]===r&&++c;return c}(ee,es);if(u&&(ee=du(ee,u,_,U)),w&&(ee=gu(ee,w,E,U)),X-=eo,U&&X<A){var ec=tt(ee,es);return Iu(t,r,Xe,y.placeholder,c,ee,ec,P,C,A-X)}var el=$?c:this,eh=T?el[t]:t;return X=ee.length,P?ee=function(t,r){for(var c=t.length,u=ns(r.length,c),_=un(t);u--;){var w=r[u];t[u]=Zn(w,c)?_[w]:i}return t}(ee,P):J&&X>1&&ee.reverse(),q&&C<X&&(ee.length=C),this&&this!==tU&&this instanceof y&&(eh=B||ce(eh)),eh.apply(el,ee)}}function Au(t,r){return function(i,c){var u,_;return u=r(c),_={},$n(i,function(r,i,c){t(_,u(r),i,c)}),_}}function Qe(t,r){return function(c,u){var _;if(c===i&&u===i)return r;if(c!==i&&(_=c),u!==i){if(_===i)return u;"string"==typeof c||"string"==typeof u?(c=ln(c),u=ln(u)):(c=uu(c),u=uu(u)),_=t(c,u)}return _}}function ci(t){return Yn(function(r){return r=G(r,hn(x())),L(function(i){var c=this;return t(r,function(t){return cn(t,c,i)})})})}function Ve(t,r){var c=(r=r===i?" ":ln(r)).length;if(c<2)return c?ri(r,t):r;var u=ri(r,t9(t/Dt(r)));return Lt(r)?ut(On(u),0,t).join(""):u.slice(0,t)}function Cu(t){return function(r,c,u){return u&&"number"!=typeof u&&rn(r,c,u)&&(c=u=i),r=Xn(r),c===i?(c=r,r=0):c=Xn(c),u=u===i?r<c?1:-1:Xn(u),function(t,r,i,c){for(var u=-1,_=nn(t9((r-t)/(i||1)),0),w=e7(_);_--;)w[c?_:++u]=t,t+=i;return w}(r,c,u,t)}}function ke(t){return function(r,i){return"string"==typeof r&&"string"==typeof i||(r=xn(r),i=xn(i)),t(r,i)}}function Iu(t,r,c,u,_,w,E,P,C,A){var q=8&r,$=q?E:i,T=q?i:E,U=q?w:i,J=q?i:w;r|=q?32:64,4&(r&=~(q?64:32))||(r&=-4);var B=[t,r,_,U,$,J,T,P,C,A],X=c.apply(i,B);return mi(t)&&nV(X,B),X.placeholder=u,$u(X,t,r)}function hi(t){var r=e8[t];return function(t,i){if(t=xn(t),(i=null==i?0:ns(R(i),292))&&t5(t)){var c=(W(t)+"e").split("e");return+((c=(W(r(c[0]+"e"+(+c[1]+i)))+"e").split("e"))[0]+"e"+(+c[1]-i))}return r(t)}}var n$=ng&&1/Se(new ng([,-0]))[1]==w?function(t){return new ng(t)}:Di;function xu(t){return function(r){var i,c,u=nU(r);return u==B?qr(r):u==eo?(i=-1,c=Array(r.size),r.forEach(function(t){c[++i]=[t,t]}),c):G(t(r),function(t){return[t,r[t]]})}}function Kn(t,r,u,w,E,P,C,A){var q=2&r;if(!q&&"function"!=typeof t)throw new ta(c);var $=w?w.length:0;if($||(r&=-97,w=E=i),C=C===i?C:nn(R(C),0),A=A===i?A:R(A),$-=E?E.length:0,64&r){var T=w,U=E;w=E=i}var J=q?i:nT(t),B=[t,r,u,w,E,T,U,P,C,A];if(J&&function(t,r){var i=t[1],c=r[1],u=i|c,w=u<131,E=128==c&&8==i||128==c&&256==i&&t[7].length<=r[8]||384==c&&r[7].length<=r[8]&&8==i;if(w||E){1&c&&(t[2]=r[2],u|=1&i?0:4);var P=r[3];if(P){var C=t[3];t[3]=C?du(C,P,r[4]):P,t[4]=C?tt(t[3],_):r[4]}(P=r[5])&&(C=t[5],t[5]=C?gu(C,P,r[6]):P,t[6]=C?tt(t[5],_):r[6]),(P=r[7])&&(t[7]=P),128&c&&(t[8]=null==t[8]?r[8]:ns(t[8],r[8])),null==t[9]&&(t[9]=r[9]),t[0]=r[0],t[1]=u}}(B,J),t=B[0],r=B[1],u=B[2],w=B[3],E=B[4],(A=B[9]=B[9]===i?q?0:t.length:nn(B[9]-$,0))||!(24&r)||(r&=-25),r&&1!=r)8==r||16==r?(X=t,ee=r,et=A,es=ce(X),ew=function s(){for(var t=arguments.length,r=e7(t),c=t,u=qt(s);c--;)r[c]=arguments[c];var _=t<3&&r[0]!==u&&r[t-1]!==u?[]:tt(r,u);return(t-=_.length)<et?Iu(X,ee,Xe,s.placeholder,i,r,_,i,i,et-t):cn(this&&this!==tU&&this instanceof s?es:X,this,r)}):32!=r&&33!=r||E.length?ew=Xe.apply(i,B):(eo=t,ec=r,el=u,eh=w,ep=1&ec,ef=ce(eo),ew=function f(){for(var t=-1,r=arguments.length,i=-1,c=eh.length,u=e7(c+r),_=this&&this!==tU&&this instanceof f?ef:eo;++i<c;)u[i]=eh[i];for(;r--;)u[i++]=arguments[++t];return cn(_,ep?el:this,u)});else var X,ee,et,es,eo,ec,el,eh,ep,ef,ed,eg,em,ey,e_,ew=(ed=t,eg=r,em=u,ey=1&eg,e_=ce(ed),function o(){return(this&&this!==tU&&this instanceof o?e_:ed).apply(ey?em:this,arguments)});return $u((J?nD:nV)(ew,B),t,r)}function Eu(t,r,c,u){return t===i||bn(t,tl[c])&&!tf.call(u,c)?r:t}function yu(t,r,c,u,_,w){return K(t)&&K(r)&&(w.set(r,t),Ke(t,r,i,yu,w),w.delete(r)),t}function kc(t){return pe(t)?i:t}function Su(t,r,c,u,_,w){var E=1&c,P=t.length,C=r.length;if(P!=C&&!(E&&C>P))return!1;var A=w.get(t),q=w.get(r);if(A&&q)return A==r&&q==t;var $=-1,T=!0,U=2&c?new gt:i;for(w.set(t,r),w.set(r,t);++$<P;){var J=t[$],B=r[$];if(u)var X=E?u(B,J,$,r,t,w):u(J,B,$,t,r,w);if(X!==i){if(X)continue;T=!1;break}if(U){if(!Nr(r,function(t,r){if(!jt(U,r)&&(J===t||_(J,t,c,u,w)))return U.push(r)})){T=!1;break}}else if(!(J===B||_(J,B,c,u,w))){T=!1;break}}return w.delete(t),w.delete(r),T}function Yn(t){return nG(Du(t,i,Bu),t+"")}function li(t){return Zs(t,V,nH)}function pi(t){return Zs(t,on,nk)}var nT=n_?function(t){return n_.get(t)}:Di;function je(t){for(var r=t.name+"",i=nw[r],c=tf.call(nw,r)?i.length:0;c--;){var u=i[c],_=u.func;if(null==_||_==t)return u.name}return r}function qt(t){return(tf.call(a,"placeholder")?a:t).placeholder}function x(){var t=a.iteratee||Ti;return t=t===Ti?Qs:t,arguments.length?t(arguments[0],arguments[1]):t}function nr(t,r){var i,c=t.__data__;return("string"==(i=typeof r)||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?c["string"==typeof r?"string":"hash"]:c.map}function gi(t){for(var r=V(t),i=r.length;i--;){var c=r[i],u=t[c];r[i]=[c,u,u==u&&!K(u)]}return r}function mt(t,r){var c=null==t?i:t[r];return Xs(c)?c:i}var nH=t4?function(t){return null==t?[]:jn(t4(t=te(t)),function(r){return tA.call(t,r)})}:Hi,nk=t4?function(t){for(var r=[];t;)nt(r,nH(t)),t=tC(t);return r}:Hi,nU=en;function Ru(t,r,i){r=st(r,t);for(var c=-1,u=r.length,_=!1;++c<u;){var w=Wn(r[c]);if(!(_=null!=t&&i(t,w)))break;t=t[w]}return _||++c!=u?_:!!(u=null==t?0:t.length)&&ar(u)&&Zn(w,u)&&(rS(t)||rR(t))}function bu(t){return"function"!=typeof t.constructor||he(t)?{}:nx(tC(t))}function ah(t){return rS(t)||rR(t)||!!(tH&&t&&t[tH])}function Zn(t,r){var i=typeof t;return!!(r=r??9007199254740991)&&("number"==i||"symbol"!=i&&e0.test(t))&&t>-1&&t%1==0&&t<r}function rn(t,r,i){if(!K(i))return!1;var c=typeof r;return("number"==c?!!(an(i)&&Zn(r,i.length)):"string"==c&&r in i)&&bn(i[r],t)}function _i(t,r){if(rS(t))return!1;var i=typeof t;return!!("number"==i||"symbol"==i||"boolean"==i||null==t||pn(t))||eM.test(t)||!eL.test(t)||null!=r&&t in te(r)}function mi(t){var r=je(t),i=a[r];if("function"!=typeof i||!(r in H.prototype))return!1;if(t===i)return!0;var c=nT(i);return!!c&&t===c[0]}(np&&nU(new np(new ArrayBuffer(1)))!=ef||nf&&nU(new nf)!=B||nd&&nU(nd.resolve())!=et||ng&&nU(new ng)!=eo||nm&&nU(new nm)!=eh)&&(nU=function(t){var r=en(t),c=r==ee?t.constructor:i,u=c?wt(c):"";if(u)switch(u){case nI:return ef;case nb:return B;case nE:return et;case nP:return eo;case nC:return eh}return r});var nW=th?Jn:Ni;function he(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||tl)}function Lu(t,r){return function(c){return null!=c&&c[t]===r&&(r!==i||t in te(c))}}function Du(t,r,c){return r=nn(r===i?t.length-1:r,0),function(){for(var i=arguments,u=-1,_=nn(i.length-r,0),w=e7(_);++u<_;)w[u]=i[r+u];u=-1;for(var E=e7(r+1);++u<r;)E[u]=i[u];return E[r]=c(w),cn(t,this,E)}}function Hu(t,r){return r.length<2?t:_t(t,Cn(r,0,-1))}function wi(t,r){if(!("constructor"===r&&"function"==typeof t[r])&&"__proto__"!=r)return t[r]}var nV=Uu(nD),nz=tX||function(t,r){return tU.setTimeout(t,r)},nG=Uu(nL);function $u(t,r,i){var c,u,_=r+"";return nG(t,function(t,r){var i=r.length;if(!i)return t;var c=i-1;return r[c]=(i>1?"& ":"")+r[c],r=r.join(i>2?", ":" "),t.replace(eW,`{
/* [wrapped with `+r+`] */
`)}(_,(c=(u=_.match(eV))?u[1].split(ez):[],mn(P,function(t){var r="_."+t[0];i&t[1]&&!Ee(c,r)&&c.push(r)}),c.sort())))}function Uu(t){var r=0,c=0;return function(){var u=no(),_=16-(u-c);if(c=u,_>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(i,arguments)}}function tr(t,r){var c=-1,u=t.length,_=u-1;for(r=r===i?u:r;++c<r;){var w=ei(c,_),E=t[w];t[w]=t[c],t[c]=E}return t.length=r,t}var nZ=(eU=(eE=sr(function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(e$,function(t,i,c,u){r.push(c?u.replace(eK,"$1"):i||t)}),r},function(t){return 500===eU.size&&eU.clear(),t})).cache,eE);function Wn(t){if("string"==typeof t||pn(t))return t;var r=t+"";return"0"==r&&1/t==-w?"-0":r}function wt(t){if(null!=t){try{return tp.call(t)}catch{}try{return t+""}catch{}}return""}function Fu(t){if(t instanceof H)return t.clone();var r=new Pn(t.__wrapped__,t.__chain__);return r.__actions__=un(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var nK=L(function(t,r){return Z(t)?ue(t,j(r,1,Z,!0)):[]}),nF=L(function(t,r){var c=In(r);return Z(c)&&(c=i),Z(t)?ue(t,j(r,1,Z,!0),x(c,2)):[]}),nJ=L(function(t,r){var c=In(r);return Z(c)&&(c=i),Z(t)?ue(t,j(r,1,Z,!0),i,c):[]});function Mu(t,r,i){var c=null==t?0:t.length;if(!c)return -1;var u=null==i?0:R(i);return u<0&&(u=nn(c+u,0)),ye(t,x(r,3),u)}function qu(t,r,c){var u=null==t?0:t.length;if(!u)return -1;var _=u-1;return c!==i&&(_=R(c),_=c<0?nn(u+_,0):ns(_,u-1)),ye(t,x(r,3),_,!0)}function Bu(t){return(null==t?0:t.length)?j(t,1):[]}function Gu(t){return t&&t.length?t[0]:i}var nY=L(function(t){var r=G(t,ai);return r.length&&r[0]===t[0]?Vr(r):[]}),nB=L(function(t){var r=In(t),c=G(t,ai);return r===In(c)?r=i:c.pop(),c.length&&c[0]===t[0]?Vr(c,x(r,2)):[]}),nQ=L(function(t){var r=In(t),c=G(t,ai);return(r="function"==typeof r?r:i)&&c.pop(),c.length&&c[0]===t[0]?Vr(c,i,r):[]});function In(t){var r=null==t?0:t.length;return r?t[r-1]:i}var nX=L(zu);function zu(t,r){return t&&t.length&&r&&r.length?ti(t,r):t}var n0=Yn(function(t,r){var i=null==t?0:t.length,c=Zr(t,r);return ru(t,G(r,function(t){return Zn(t,i)?+t:t}).sort(pu)),c});function Ai(t){return null==t?t:nh.call(t)}var n1=L(function(t){return it(j(t,1,Z,!0))}),n2=L(function(t){var r=In(t);return Z(r)&&(r=i),it(j(t,1,Z,!0),x(r,2))}),n3=L(function(t){var r=In(t);return r="function"==typeof r?r:i,it(j(t,1,Z,!0),i,r)});function Ci(t){if(!(t&&t.length))return[];var r=0;return t=jn(t,function(t){if(Z(t))return r=nn(t.length,r),!0}),Fr(r,function(r){return G(t,$r(r))})}function Ku(t,r){if(!(t&&t.length))return[];var c=Ci(t);return null==r?c:G(c,function(t){return cn(r,i,t)})}var n9=L(function(t,r){return Z(t)?ue(t,r):[]}),n7=L(function(t){return ui(jn(t,Z))}),n4=L(function(t){var r=In(t);return Z(r)&&(r=i),ui(jn(t,Z),x(r,2))}),n6=L(function(t){var r=In(t);return r="function"==typeof r?r:i,ui(jn(t,Z),i,r)}),n5=L(Ci),n8=L(function(t){var r=t.length,c=r>1?t[r-1]:i;return c="function"==typeof c?(t.pop(),c):i,Ku(t,c)});function Yu(t){var r=a(t);return r.__chain__=!0,r}function er(t,r){return r(t)}var re=Yn(function(t){var r=t.length,c=r?t[0]:0,u=this.__wrapped__,s=function(r){return Zr(r,t)};return!(r>1)&&!this.__actions__.length&&u instanceof H&&Zn(c)?((u=u.slice(c,+c+(r?1:0))).__actions__.push({func:er,args:[s],thisArg:i}),new Pn(u,this.__chain__).thru(function(t){return r&&!t.length&&t.push(i),t})):this.thru(s)}),rt=Je(function(t,r,i){tf.call(t,i)?++t[i]:zn(t,i,1)}),rs=wu(Mu),ra=wu(qu);function Zu(t,r){return(rS(t)?mn:nA)(t,x(r,3))}function Ju(t,r){return(rS(t)?function(t,r){for(var i=null==t?0:t.length;i--&&!1!==r(t[i],i,t););return t}:nN)(t,x(r,3))}var ro=Je(function(t,r,i){tf.call(t,i)?t[i].push(r):zn(t,i,[r])}),rc=L(function(t,r,i){var c=-1,u="function"==typeof r,_=an(t)?e7(t.length):[];return nA(t,function(t){_[++c]=u?cn(r,t,i):ae(t,r,i)}),_}),rl=Je(function(t,r,i){zn(t,i,r)});function rr(t,r){return(rS(t)?G:Vs)(t,x(r,3))}var rh=Je(function(t,r,i){t[i?0:1].push(r)},function(){return[[],[]]}),rp=L(function(t,r){if(null==t)return[];var i=r.length;return i>1&&rn(t,r[0],r[1])?r=[]:i>2&&rn(r[0],r[1],r[2])&&(r=[r[0]]),tu(t,j(r,1),[])}),rd=tZ||function(){return tU.Date.now()};function Xu(t,r,c){return r=c?i:r,r=t&&null==r?t.length:r,Kn(t,128,i,i,i,i,r)}function Qu(t,r){var u;if("function"!=typeof r)throw new ta(c);return t=R(t),function(){return--t>0&&(u=r.apply(this,arguments)),t<=1&&(r=i),u}}var rg=L(function(t,r,i){var c=1;if(i.length){var u=tt(i,qt(rg));c|=32}return Kn(t,c,r,i,u)}),rm=L(function(t,r,i){var c=3;if(i.length){var u=tt(i,qt(rm));c|=32}return Kn(r,c,t,i,u)});function na(t,r,u){var _,w,E,P,C,A,q=0,$=!1,T=!1,U=!0;if("function"!=typeof t)throw new ta(c);function I(r){var c=_,u=w;return _=w=i,q=r,P=t.apply(u,c)}function y(t){var c=t-A,u=t-q;return A===i||c>=r||c<0||T&&u>=E}function D(){var t,i,c,u=rd();if(y(u))return N(u);C=nz(D,(t=u-A,i=u-q,c=r-t,T?ns(c,E-i):c))}function N(t){return C=i,U&&_?I(t):(_=w=i,P)}function gn(){var t,c=rd(),u=y(c);if(_=arguments,w=this,A=c,u){if(C===i)return q=t=A,C=nz(D,r),$?I(t):P;if(T)return nM(C),C=nz(D,r),I(A)}return C===i&&(C=nz(D,r)),P}return r=xn(r)||0,K(u)&&($=!!u.leading,E=(T="maxWait"in u)?nn(xn(u.maxWait)||0,r):E,U="trailing"in u?!!u.trailing:U),gn.cancel=function(){C!==i&&nM(C),q=0,_=A=w=C=i},gn.flush=function(){return C===i?P:N(rd())},gn}var ry=L(function(t,r){return Gs(t,1,r)}),r_=L(function(t,r,i){return Gs(t,xn(r)||0,i)});function sr(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new ta(c);var e=function(){var i=arguments,c=r?r.apply(this,i):i[0],u=e.cache;if(u.has(c))return u.get(c);var _=t.apply(this,i);return e.cache=u.set(c,_)||u,_};return e.cache=new(sr.Cache||Gn),e}function ur(t){if("function"!=typeof t)throw new ta(c);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}sr.Cache=Gn;var rw=L(function(t,r){var i=(r=1==r.length&&rS(r[0])?G(r[0],hn(x())):G(j(r,1),hn(x()))).length;return L(function(c){for(var u=-1,_=ns(c.length,i);++u<_;)c[u]=r[u].call(this,c[u]);return cn(t,this,c)})}),rI=L(function(t,r){var c=tt(r,qt(rI));return Kn(t,32,i,r,c)}),rb=L(function(t,r){var c=tt(r,qt(rb));return Kn(t,64,i,r,c)}),rE=Yn(function(t,r){return Kn(t,256,i,i,i,r)});function bn(t,r){return t===r||t!=t&&r!=r}var rP=ke(Qr),rC=ke(function(t,r){return t>=r}),rR=Js(function(){return arguments}())?Js:function(t){return Y(t)&&tf.call(t,"callee")&&!tA.call(t,"callee")},rS=e7.isArray,rO=tK?hn(tK):function(t){return Y(t)&&en(t)==ep};function an(t){return null!=t&&ar(t.length)&&!Jn(t)}function Z(t){return Y(t)&&an(t)}var rx=t6||Ni,rA=tF?hn(tF):function(t){return Y(t)&&en(t)==$};function Ei(t){if(!Y(t))return!1;var r=en(t);return r==T||"[object DOMException]"==r||"string"==typeof t.message&&"string"==typeof t.name&&!pe(t)}function Jn(t){if(!K(t))return!1;var r=en(t);return r==U||r==J||"[object AsyncFunction]"==r||"[object Proxy]"==r}function ea(t){return"number"==typeof t&&t==R(t)}function ar(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function K(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}function Y(t){return null!=t&&"object"==typeof t}var rN=tJ?hn(tJ):function(t){return Y(t)&&nU(t)==B};function ia(t){return"number"==typeof t||Y(t)&&en(t)==X}function pe(t){if(!Y(t)||en(t)!=ee)return!1;var r=tC(t);if(null===r)return!0;var i=tf.call(r,"constructor")&&r.constructor;return"function"==typeof i&&i instanceof i&&tp.call(i)==ty}var rq=tY?hn(tY):function(t){return Y(t)&&en(t)==es},rj=tB?hn(tB):function(t){return Y(t)&&nU(t)==eo};function or(t){return"string"==typeof t||!rS(t)&&Y(t)&&en(t)==ec}function pn(t){return"symbol"==typeof t||Y(t)&&en(t)==el}var rD=tQ?hn(tQ):function(t){return Y(t)&&ar(t.length)&&!!tD[en(t)]},rL=ke(ni),rM=ke(function(t,r){return t<=r});function ua(t){if(!t)return[];if(an(t))return or(t)?On(t):un(t);if(tk&&t[tk])return function(t){for(var r,i=[];!(r=t.next()).done;)i.push(r.value);return i}(t[tk]());var r=nU(t);return(r==B?qr:r==eo?Se:Gt)(t)}function Xn(t){return t?(t=xn(t))===w||t===-w?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function R(t){var r=Xn(t),i=r%1;return r==r?i?r-i:r:0}function aa(t){return t?vt(R(t),0,4294967295):0}function xn(t){if("number"==typeof t)return t;if(pn(t))return E;if(K(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=K(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=ys(t);var i=eB.test(t);return i||eX.test(t)?tT(t.slice(2),i?2:8):eY.test(t)?E:+t}function oa(t){return Un(t,on(t))}function W(t){return null==t?"":ln(t)}var r$=Ft(function(t,r){if(he(r)||an(r)){Un(r,V(r),t);return}for(var i in r)tf.call(r,i)&&se(t,i,r[i])}),rT=Ft(function(t,r){Un(r,on(r),t)}),rH=Ft(function(t,r,i,c){Un(r,on(r),t,c)}),rk=Ft(function(t,r,i,c){Un(r,V(r),t,c)}),rU=Yn(Zr),rW=L(function(t,r){t=te(t);var c=-1,u=r.length,_=u>2?r[2]:i;for(_&&rn(r[0],r[1],_)&&(u=1);++c<u;)for(var w=r[c],E=on(w),P=-1,C=E.length;++P<C;){var A=E[P],q=t[A];(q===i||bn(q,tl[A])&&!tf.call(t,A))&&(t[A]=w[A])}return t}),rV=L(function(t){return t.push(i,yu),cn(rF,i,t)});function Si(t,r,c){var u=null==t?i:_t(t,r);return u===i?c:u}function Oi(t,r){return null!=t&&Ru(t,r,Ac)}var rz=Au(function(t,r,i){null!=r&&"function"!=typeof r.toString&&(r=tm.call(r)),t[r]=i},bi(fn)),rG=Au(function(t,r,i){null!=r&&"function"!=typeof r.toString&&(r=tm.call(r)),tf.call(t,r)?t[r].push(i):t[r]=[i]},x),rZ=L(ae);function V(t){return an(t)?Fs(t):jr(t)}function on(t){return an(t)?Fs(t,!0):function(t){if(!K(t))return function(t){var r=[];if(null!=t)for(var i in te(t))r.push(i);return r}(t);var r=he(t),i=[];for(var c in t)"constructor"==c&&(r||!tf.call(t,c))||i.push(c);return i}(t)}var rK=Ft(function(t,r,i){Ke(t,r,i)}),rF=Ft(function(t,r,i,c){Ke(t,r,i,c)}),rJ=Yn(function(t,r){var i={};if(null==t)return i;var c=!1;r=G(r,function(r){return r=st(r,t),c||(c=r.length>1),r}),Un(t,pi(t),i),c&&(i=An(i,7,kc));for(var u=r.length;u--;)si(i,r[u]);return i}),rY=Yn(function(t,r){return null==t?{}:eu(t,r,function(r,i){return Oi(t,i)})});function ha(t,r){if(null==t)return{};var i=G(pi(t),function(t){return[t]});return r=x(r),eu(t,i,function(t,i){return r(t,i[0])})}var rB=xu(V),rQ=xu(on);function Gt(t){return null==t?[]:Mr(t,V(t))}var rX=Mt(function(t,r,i){return r=r.toLowerCase(),t+(i?da(r):r)});function da(t){return r4(W(t).toLowerCase())}function ga(t){return(t=W(t))&&t.replace(e1,t0).replace(tS,"")}var r0=Mt(function(t,r,i){return t+(i?"-":"")+r.toLowerCase()}),r1=Mt(function(t,r,i){return t+(i?" ":"")+r.toLowerCase()}),r2=mu("toLowerCase"),r3=Mt(function(t,r,i){return t+(i?"_":"")+r.toLowerCase()}),r9=Mt(function(t,r,i){return t+(i?" ":"")+r4(r)}),r7=Mt(function(t,r,i){return t+(i?" ":"")+r.toUpperCase()}),r4=mu("toUpperCase");function va(t,r,c){var u;return t=W(t),(r=c?i:r)===i?(u=t,tN.test(u))?t.match(tx)||[]:t.match(eG)||[]:t.match(r)||[]}var r6=L(function(t,r){try{return cn(t,i,r)}catch(t){return Ei(t)?t:new e6(t)}}),r5=Yn(function(t,r){return mn(r,function(r){zn(t,r=Wn(r),rg(t[r],t))}),t});function bi(t){return function(){return t}}var r8=Pu(),ie=Pu(!0);function fn(t){return t}function Ti(t){return Qs("function"==typeof t?t:An(t,1))}var ir=L(function(t,r){return function(i){return ae(i,t,r)}}),is=L(function(t,r){return function(i){return ae(t,i,r)}});function Li(t,r,i){var c=V(r),u=ze(r,c);null!=i||K(r)&&(u.length||!c.length)||(i=r,r=t,t=this,u=ze(r,V(r)));var _=!(K(i)&&"chain"in i)||!!i.chain,w=Jn(t);return mn(u,function(i){var c=r[i];t[i]=c,w&&(t.prototype[i]=function(){var r=this.__chain__;if(_||r){var i=t(this.__wrapped__);return(i.__actions__=un(this.__actions__)).push({func:c,args:arguments,thisArg:t}),i.__chain__=r,i}return c.apply(t,nt([this.value()],arguments))})}),t}function Di(){}var io=ci(G),ic=ci(As),iu=ci(Nr);function ma(t){return _i(t)?$r(Wn(t)):function(r){return _t(r,t)}}var il=Cu(),ih=Cu(!0);function Hi(){return[]}function Ni(){return!1}var ip=Qe(function(t,r){return t+r},0),id=hi("ceil"),ig=Qe(function(t,r){return t/r},1),im=hi("floor"),iy=Qe(function(t,r){return t*r},1),i_=hi("round"),iw=Qe(function(t,r){return t-r},0);return a.after=function(t,r){if("function"!=typeof r)throw new ta(c);return t=R(t),function(){if(--t<1)return r.apply(this,arguments)}},a.ary=Xu,a.assign=r$,a.assignIn=rT,a.assignInWith=rH,a.assignWith=rk,a.at=rU,a.before=Qu,a.bind=rg,a.bindAll=r5,a.bindKey=rm,a.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return rS(t)?t:[t]},a.chain=Yu,a.chunk=function(t,r,c){r=(c?rn(t,r,c):r===i)?1:nn(R(r),0);var u=null==t?0:t.length;if(!u||r<1)return[];for(var _=0,w=0,E=e7(t9(u/r));_<u;)E[w++]=Cn(t,_,_+=r);return E},a.compact=function(t){for(var r=-1,i=null==t?0:t.length,c=0,u=[];++r<i;){var _=t[r];_&&(u[c++]=_)}return u},a.concat=function(){var t=arguments.length;if(!t)return[];for(var r=e7(t-1),i=arguments[0],c=t;c--;)r[c-1]=arguments[c];return nt(rS(i)?un(i):[i],j(r,1))},a.cond=function(t){var r=null==t?0:t.length,i=x();return t=r?G(t,function(t){if("function"!=typeof t[1])throw new ta(c);return[i(t[0]),t[1]]}):[],L(function(i){for(var c=-1;++c<r;){var u=t[c];if(cn(u[0],this,i))return cn(u[1],this,i)}})},a.conforms=function(t){var r,i;return i=V(r=An(t,1)),function(t){return Bs(t,r,i)}},a.constant=bi,a.countBy=rt,a.create=function(t,r){var i=nx(t);return null==r?i:qs(i,r)},a.curry=function ku(t,r,c){r=c?i:r;var u=Kn(t,8,i,i,i,i,i,r);return u.placeholder=ku.placeholder,u},a.curryRight=function ju(t,r,c){r=c?i:r;var u=Kn(t,16,i,i,i,i,i,r);return u.placeholder=ju.placeholder,u},a.debounce=na,a.defaults=rW,a.defaultsDeep=rV,a.defer=ry,a.delay=r_,a.difference=nK,a.differenceBy=nF,a.differenceWith=nJ,a.drop=function(t,r,c){var u=null==t?0:t.length;return u?Cn(t,(r=c||r===i?1:R(r))<0?0:r,u):[]},a.dropRight=function(t,r,c){var u=null==t?0:t.length;return u?Cn(t,0,(r=u-(r=c||r===i?1:R(r)))<0?0:r):[]},a.dropRightWhile=function(t,r){return t&&t.length?Ze(t,x(r,3),!0,!0):[]},a.dropWhile=function(t,r){return t&&t.length?Ze(t,x(r,3),!0):[]},a.fill=function(t,r,c,u){var _=null==t?0:t.length;return _?(c&&"number"!=typeof c&&rn(t,r,c)&&(c=0,u=_),function(t,r,c,u){var _=t.length;for((c=R(c))<0&&(c=-c>_?0:_+c),(u=u===i||u>_?_:R(u))<0&&(u+=_),u=c>u?0:aa(u);c<u;)t[c++]=r;return t}(t,r,c,u)):[]},a.filter=function(t,r){return(rS(t)?jn:Ks)(t,x(r,3))},a.flatMap=function(t,r){return j(rr(t,r),1)},a.flatMapDeep=function(t,r){return j(rr(t,r),w)},a.flatMapDepth=function(t,r,c){return c=c===i?1:R(c),j(rr(t,r),c)},a.flatten=Bu,a.flattenDeep=function(t){return(null==t?0:t.length)?j(t,w):[]},a.flattenDepth=function(t,r){return(null==t?0:t.length)?j(t,r=r===i?1:R(r)):[]},a.flip=function(t){return Kn(t,512)},a.flow=r8,a.flowRight=ie,a.fromPairs=function(t){for(var r=-1,i=null==t?0:t.length,c={};++r<i;){var u=t[r];c[u[0]]=u[1]}return c},a.functions=function(t){return null==t?[]:ze(t,V(t))},a.functionsIn=function(t){return null==t?[]:ze(t,on(t))},a.groupBy=ro,a.initial=function(t){return(null==t?0:t.length)?Cn(t,0,-1):[]},a.intersection=nY,a.intersectionBy=nB,a.intersectionWith=nQ,a.invert=rz,a.invertBy=rG,a.invokeMap=rc,a.iteratee=Ti,a.keyBy=rl,a.keys=V,a.keysIn=on,a.map=rr,a.mapKeys=function(t,r){var i={};return r=x(r,3),$n(t,function(t,c,u){zn(i,r(t,c,u),t)}),i},a.mapValues=function(t,r){var i={};return r=x(r,3),$n(t,function(t,c,u){zn(i,c,r(t,c,u))}),i},a.matches=function(t){return ks(An(t,1))},a.matchesProperty=function(t,r){return js(t,An(r,1))},a.memoize=sr,a.merge=rK,a.mergeWith=rF,a.method=ir,a.methodOf=is,a.mixin=Li,a.negate=ur,a.nthArg=function(t){return t=R(t),L(function(r){return nu(r,t)})},a.omit=rJ,a.omitBy=function(t,r){return ha(t,ur(x(r)))},a.once=function(t){return Qu(2,t)},a.orderBy=function(t,r,c,u){return null==t?[]:(rS(r)||(r=null==r?[]:[r]),rS(c=u?i:c)||(c=null==c?[]:[c]),tu(t,r,c))},a.over=io,a.overArgs=rw,a.overEvery=ic,a.overSome=iu,a.partial=rI,a.partialRight=rb,a.partition=rh,a.pick=rY,a.pickBy=ha,a.property=ma,a.propertyOf=function(t){return function(r){return null==t?i:_t(t,r)}},a.pull=nX,a.pullAll=zu,a.pullAllBy=function(t,r,i){return t&&t.length&&r&&r.length?ti(t,r,x(i,2)):t},a.pullAllWith=function(t,r,c){return t&&t.length&&r&&r.length?ti(t,r,i,c):t},a.pullAt=n0,a.range=il,a.rangeRight=ih,a.rearg=rE,a.reject=function(t,r){return(rS(t)?jn:Ks)(t,ur(x(r,3)))},a.remove=function(t,r){var i=[];if(!(t&&t.length))return i;var c=-1,u=[],_=t.length;for(r=x(r,3);++c<_;){var w=t[c];r(w,c,t)&&(i.push(w),u.push(c))}return ru(t,u),i},a.rest=function(t,r){if("function"!=typeof t)throw new ta(c);return L(t,r=r===i?r:R(r))},a.reverse=Ai,a.sampleSize=function(t,r,c){return r=(c?rn(t,r,c):r===i)?1:R(r),(rS(t)?function(t,r){return tr(un(t),vt(r,0,t.length))}:function(t,r){var i=Gt(t);return tr(i,vt(r,0,i.length))})(t,r)},a.set=function(t,r,i){return null==t?t:fe(t,r,i)},a.setWith=function(t,r,c,u){return u="function"==typeof u?u:i,null==t?t:fe(t,r,c,u)},a.shuffle=function(t){return(rS(t)?function(t){return tr(un(t))}:function(t){return tr(Gt(t))})(t)},a.slice=function(t,r,c){var u=null==t?0:t.length;return u?(c&&"number"!=typeof c&&rn(t,r,c)?(r=0,c=u):(r=null==r?0:R(r),c=c===i?u:R(c)),Cn(t,r,c)):[]},a.sortBy=rp,a.sortedUniq=function(t){return t&&t.length?su(t):[]},a.sortedUniqBy=function(t,r){return t&&t.length?su(t,x(r,2)):[]},a.split=function(t,r,c){return c&&"number"!=typeof c&&rn(t,r,c)&&(r=c=i),(c=c===i?4294967295:c>>>0)?(t=W(t))&&("string"==typeof r||null!=r&&!rq(r))&&!(r=ln(r))&&Lt(t)?ut(On(t),0,c):t.split(r,c):[]},a.spread=function(t,r){if("function"!=typeof t)throw new ta(c);return r=null==r?0:nn(R(r),0),L(function(i){var c=i[r],u=ut(i,0,r);return c&&nt(u,c),cn(t,this,u)})},a.tail=function(t){var r=null==t?0:t.length;return r?Cn(t,1,r):[]},a.take=function(t,r,c){return t&&t.length?Cn(t,0,(r=c||r===i?1:R(r))<0?0:r):[]},a.takeRight=function(t,r,c){var u=null==t?0:t.length;return u?Cn(t,(r=u-(r=c||r===i?1:R(r)))<0?0:r,u):[]},a.takeRightWhile=function(t,r){return t&&t.length?Ze(t,x(r,3),!1,!0):[]},a.takeWhile=function(t,r){return t&&t.length?Ze(t,x(r,3)):[]},a.tap=function(t,r){return r(t),t},a.throttle=function(t,r,i){var u=!0,_=!0;if("function"!=typeof t)throw new ta(c);return K(i)&&(u="leading"in i?!!i.leading:u,_="trailing"in i?!!i.trailing:_),na(t,r,{leading:u,maxWait:r,trailing:_})},a.thru=er,a.toArray=ua,a.toPairs=rB,a.toPairsIn=rQ,a.toPath=function(t){return rS(t)?G(t,Wn):pn(t)?[t]:un(nZ(W(t)))},a.toPlainObject=oa,a.transform=function(t,r,i){var c=rS(t),u=c||rx(t)||rD(t);if(r=x(r,4),null==i){var _=t&&t.constructor;i=u?c?new _:[]:K(t)&&Jn(_)?nx(tC(t)):{}}return(u?mn:$n)(t,function(t,c,u){return r(i,t,c,u)}),i},a.unary=function(t){return Xu(t,1)},a.union=n1,a.unionBy=n2,a.unionWith=n3,a.uniq=function(t){return t&&t.length?it(t):[]},a.uniqBy=function(t,r){return t&&t.length?it(t,x(r,2)):[]},a.uniqWith=function(t,r){return r="function"==typeof r?r:i,t&&t.length?it(t,i,r):[]},a.unset=function(t,r){return null==t||si(t,r)},a.unzip=Ci,a.unzipWith=Ku,a.update=function(t,r,i){return null==t?t:au(t,r,oi(i))},a.updateWith=function(t,r,c,u){return u="function"==typeof u?u:i,null==t?t:au(t,r,oi(c),u)},a.values=Gt,a.valuesIn=function(t){return null==t?[]:Mr(t,on(t))},a.without=n9,a.words=va,a.wrap=function(t,r){return rI(oi(r),t)},a.xor=n7,a.xorBy=n4,a.xorWith=n6,a.zip=n5,a.zipObject=function(t,r){return fu(t||[],r||[],se)},a.zipObjectDeep=function(t,r){return fu(t||[],r||[],fe)},a.zipWith=n8,a.entries=rB,a.entriesIn=rQ,a.extend=rT,a.extendWith=rH,Li(a,a),a.add=ip,a.attempt=r6,a.camelCase=rX,a.capitalize=da,a.ceil=id,a.clamp=function(t,r,c){return c===i&&(c=r,r=i),c!==i&&(c=(c=xn(c))==c?c:0),r!==i&&(r=(r=xn(r))==r?r:0),vt(xn(t),r,c)},a.clone=function(t){return An(t,4)},a.cloneDeep=function(t){return An(t,5)},a.cloneDeepWith=function(t,r){return An(t,5,r="function"==typeof r?r:i)},a.cloneWith=function(t,r){return An(t,4,r="function"==typeof r?r:i)},a.conformsTo=function(t,r){return null==r||Bs(t,r,V(r))},a.deburr=ga,a.defaultTo=function(t,r){return null==t||t!=t?r:t},a.divide=ig,a.endsWith=function(t,r,c){t=W(t),r=ln(r);var u=t.length,_=c=c===i?u:vt(R(c),0,u);return(c-=r.length)>=0&&t.slice(c,_)==r},a.eq=bn,a.escape=function(t){return(t=W(t))&&eN.test(t)?t.replace(ex,t1):t},a.escapeRegExp=function(t){return(t=W(t))&&eH.test(t)?t.replace(eT,"\\$&"):t},a.every=function(t,r,c){var u=rS(t)?As:mc;return c&&rn(t,r,c)&&(r=i),u(t,x(r,3))},a.find=rs,a.findIndex=Mu,a.findKey=function(t,r){return Cs(t,x(r,3),$n)},a.findLast=ra,a.findLastIndex=qu,a.findLastKey=function(t,r){return Cs(t,x(r,3),Xr)},a.floor=im,a.forEach=Zu,a.forEachRight=Ju,a.forIn=function(t,r){return null==t?t:nq(t,x(r,3),on)},a.forInRight=function(t,r){return null==t?t:nj(t,x(r,3),on)},a.forOwn=function(t,r){return t&&$n(t,x(r,3))},a.forOwnRight=function(t,r){return t&&Xr(t,x(r,3))},a.get=Si,a.gt=rP,a.gte=rC,a.has=function(t,r){return null!=t&&Ru(t,r,Pc)},a.hasIn=Oi,a.head=Gu,a.identity=fn,a.includes=function(t,r,i,c){t=an(t)?t:Gt(t),i=i&&!c?R(i):0;var u=t.length;return i<0&&(i=nn(u+i,0)),or(t)?i<=u&&t.indexOf(r,i)>-1:!!u&&Tt(t,r,i)>-1},a.indexOf=function(t,r,i){var c=null==t?0:t.length;if(!c)return -1;var u=null==i?0:R(i);return u<0&&(u=nn(c+u,0)),Tt(t,r,u)},a.inRange=function(t,r,c){var u,_,w;return r=Xn(r),c===i?(c=r,r=0):c=Xn(c),(u=t=xn(t))>=ns(_=r,w=c)&&u<nn(_,w)},a.invoke=rZ,a.isArguments=rR,a.isArray=rS,a.isArrayBuffer=rO,a.isArrayLike=an,a.isArrayLikeObject=Z,a.isBoolean=function(t){return!0===t||!1===t||Y(t)&&en(t)==q},a.isBuffer=rx,a.isDate=rA,a.isElement=function(t){return Y(t)&&1===t.nodeType&&!pe(t)},a.isEmpty=function(t){if(null==t)return!0;if(an(t)&&(rS(t)||"string"==typeof t||"function"==typeof t.splice||rx(t)||rD(t)||rR(t)))return!t.length;var r=nU(t);if(r==B||r==eo)return!t.size;if(he(t))return!jr(t).length;for(var i in t)if(tf.call(t,i))return!1;return!0},a.isEqual=function(t,r){return oe(t,r)},a.isEqualWith=function(t,r,c){var u=(c="function"==typeof c?c:i)?c(t,r):i;return u===i?oe(t,r,i,c):!!u},a.isError=Ei,a.isFinite=function(t){return"number"==typeof t&&t5(t)},a.isFunction=Jn,a.isInteger=ea,a.isLength=ar,a.isMap=rN,a.isMatch=function(t,r){return t===r||kr(t,r,gi(r))},a.isMatchWith=function(t,r,c){return c="function"==typeof c?c:i,kr(t,r,gi(r),c)},a.isNaN=function(t){return ia(t)&&t!=+t},a.isNative=function(t){if(nW(t))throw new e6("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xs(t)},a.isNil=function(t){return null==t},a.isNull=function(t){return null===t},a.isNumber=ia,a.isObject=K,a.isObjectLike=Y,a.isPlainObject=pe,a.isRegExp=rq,a.isSafeInteger=function(t){return ea(t)&&t>=-9007199254740991&&t<=9007199254740991},a.isSet=rj,a.isString=or,a.isSymbol=pn,a.isTypedArray=rD,a.isUndefined=function(t){return t===i},a.isWeakMap=function(t){return Y(t)&&nU(t)==eh},a.isWeakSet=function(t){return Y(t)&&"[object WeakSet]"==en(t)},a.join=function(t,r){return null==t?"":t8.call(t,r)},a.kebabCase=r0,a.last=In,a.lastIndexOf=function(t,r,c){var u=null==t?0:t.length;if(!u)return -1;var _=u;return c!==i&&(_=(_=R(c))<0?nn(u+_,0):ns(_,u-1)),r==r?function(t,r,i){for(var c=i+1;c--&&t[c]!==r;);return c}(t,r,_):ye(t,Is,_,!0)},a.lowerCase=r1,a.lowerFirst=r2,a.lt=rL,a.lte=rM,a.max=function(t){return t&&t.length?Ge(t,fn,Qr):i},a.maxBy=function(t,r){return t&&t.length?Ge(t,x(r,2),Qr):i},a.mean=function(t){return xs(t,fn)},a.meanBy=function(t,r){return xs(t,x(r,2))},a.min=function(t){return t&&t.length?Ge(t,fn,ni):i},a.minBy=function(t,r){return t&&t.length?Ge(t,x(r,2),ni):i},a.stubArray=Hi,a.stubFalse=Ni,a.stubObject=function(){return{}},a.stubString=function(){return""},a.stubTrue=function(){return!0},a.multiply=iy,a.nth=function(t,r){return t&&t.length?nu(t,R(r)):i},a.noConflict=function(){return tU._===this&&(tU._=t_),this},a.noop=Di,a.now=rd,a.pad=function(t,r,i){t=W(t);var c=(r=R(r))?Dt(t):0;if(!r||c>=r)return t;var u=(r-c)/2;return Ve(t7(u),i)+t+Ve(t9(u),i)},a.padEnd=function(t,r,i){t=W(t);var c=(r=R(r))?Dt(t):0;return r&&c<r?t+Ve(r-c,i):t},a.padStart=function(t,r,i){t=W(t);var c=(r=R(r))?Dt(t):0;return r&&c<r?Ve(r-c,i)+t:t},a.parseInt=function(t,r,i){return i||null==r?r=0:r&&(r=+r),nc(W(t).replace(ek,""),r||0)},a.random=function(t,r,c){if(c&&"boolean"!=typeof c&&rn(t,r,c)&&(r=c=i),c===i&&("boolean"==typeof r?(c=r,r=i):"boolean"==typeof t&&(c=t,t=i)),t===i&&r===i?(t=0,r=1):(t=Xn(t),r===i?(r=t,t=0):r=Xn(r)),t>r){var u=t;t=r,r=u}if(c||t%1||r%1){var _=nl();return ns(t+_*(r-t+t$("1e-"+((_+"").length-1))),r)}return ei(t,r)},a.reduce=function(t,r,i){var c=rS(t)?Hr:Es,u=arguments.length<3;return c(t,x(r,4),i,u,nA)},a.reduceRight=function(t,r,i){var c=rS(t)?jo:Es,u=arguments.length<3;return c(t,x(r,4),i,u,nN)},a.repeat=function(t,r,c){return r=(c?rn(t,r,c):r===i)?1:R(r),ri(W(t),r)},a.replace=function(){var t=arguments,r=W(t[0]);return t.length<3?r:r.replace(t[1],t[2])},a.result=function(t,r,c){r=st(r,t);var u=-1,_=r.length;for(_||(_=1,t=i);++u<_;){var w=null==t?i:t[Wn(r[u])];w===i&&(u=_,w=c),t=Jn(w)?w.call(t):w}return t},a.round=i_,a.runInContext=h,a.sample=function(t){return(rS(t)?Ms:function(t){return Ms(Gt(t))})(t)},a.size=function(t){if(null==t)return 0;if(an(t))return or(t)?Dt(t):t.length;var r=nU(t);return r==B||r==eo?t.size:jr(t).length},a.snakeCase=r3,a.some=function(t,r,c){var u=rS(t)?Nr:Mc;return c&&rn(t,r,c)&&(r=i),u(t,x(r,3))},a.sortedIndex=function(t,r){return Ye(t,r)},a.sortedIndexBy=function(t,r,i){return ii(t,r,x(i,2))},a.sortedIndexOf=function(t,r){var i=null==t?0:t.length;if(i){var c=Ye(t,r);if(c<i&&bn(t[c],r))return c}return -1},a.sortedLastIndex=function(t,r){return Ye(t,r,!0)},a.sortedLastIndexBy=function(t,r,i){return ii(t,r,x(i,2),!0)},a.sortedLastIndexOf=function(t,r){if(null==t?0:t.length){var i=Ye(t,r,!0)-1;if(bn(t[i],r))return i}return -1},a.startCase=r9,a.startsWith=function(t,r,i){return t=W(t),i=null==i?0:vt(R(i),0,t.length),r=ln(r),t.slice(i,i+r.length)==r},a.subtract=iw,a.sum=function(t){return t&&t.length?Wr(t,fn):0},a.sumBy=function(t,r){return t&&t.length?Wr(t,x(r,2)):0},a.template=function(t,r,c){var u=a.templateSettings;c&&rn(t,r,c)&&(r=i),t=W(t),r=rH({},r,u,Eu);var _,w,E=rH({},r.imports,u.imports,Eu),P=V(E),C=Mr(E,P),A=0,q=r.interpolate||e2,$="__p += '",T=tn((r.escape||e2).source+"|"+q.source+"|"+(q===eD?eF:e2).source+"|"+(r.evaluate||e2).source+"|$","g"),U="//# sourceURL="+(tf.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tj+"]")+`
`;t.replace(T,function(r,i,c,u,E,P){return c||(c=u),$+=t.slice(A,P).replace(e3,cf),i&&(_=!0,$+=`' +
__e(`+i+`) +
'`),E&&(w=!0,$+=`';
`+E+`;
__p += '`),c&&($+=`' +
((__t = (`+c+`)) == null ? '' : __t) +
'`),A=P+r.length,r}),$+=`';
`;var J=tf.call(r,"variable")&&r.variable;if(J){if(eZ.test(J))throw new e6("Invalid `variable` option passed into `_.template`")}else $=`with (obj) {
`+$+`
}
`;$=(w?$.replace(eC,""):$).replace(eR,"$1").replace(eS,"$1;"),$="function("+(J||"obj")+`) {
`+(J?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var B=r6(function(){return e5(P,U+"return "+$).apply(i,C)});if(B.source=$,Ei(B))throw B;return B},a.times=function(t,r){if((t=R(t))<1||t>9007199254740991)return[];var i=4294967295,c=ns(t,4294967295);r=x(r),t-=4294967295;for(var u=Fr(c,r);++i<t;)r(i);return u},a.toFinite=Xn,a.toInteger=R,a.toLength=aa,a.toLower=function(t){return W(t).toLowerCase()},a.toNumber=xn,a.toSafeInteger=function(t){return t?vt(R(t),-9007199254740991,9007199254740991):0===t?t:0},a.toString=W,a.toUpper=function(t){return W(t).toUpperCase()},a.trim=function(t,r,c){if((t=W(t))&&(c||r===i))return ys(t);if(!t||!(r=ln(r)))return t;var u=On(t),_=On(r),w=Ss(u,_),E=Os(u,_)+1;return ut(u,w,E).join("")},a.trimEnd=function(t,r,c){if((t=W(t))&&(c||r===i))return t.slice(0,bs(t)+1);if(!t||!(r=ln(r)))return t;var u=On(t),_=Os(u,On(r))+1;return ut(u,0,_).join("")},a.trimStart=function(t,r,c){if((t=W(t))&&(c||r===i))return t.replace(ek,"");if(!t||!(r=ln(r)))return t;var u=On(t),_=Ss(u,On(r));return ut(u,_).join("")},a.truncate=function(t,r){var c=30,u="...";if(K(r)){var _="separator"in r?r.separator:_;c="length"in r?R(r.length):c,u="omission"in r?ln(r.omission):u}var w=(t=W(t)).length;if(Lt(t)){var E=On(t);w=E.length}if(c>=w)return t;var P=c-Dt(u);if(P<1)return u;var C=E?ut(E,0,P).join(""):t.slice(0,P);if(_===i)return C+u;if(E&&(P+=C.length-P),rq(_)){if(t.slice(P).search(_)){var A,q=C;for(_.global||(_=tn(_.source,W(eJ.exec(_))+"g")),_.lastIndex=0;A=_.exec(q);)var $=A.index;C=C.slice(0,$===i?P:$)}}else if(t.indexOf(ln(_),P)!=P){var T=C.lastIndexOf(_);T>-1&&(C=C.slice(0,T))}return C+u},a.unescape=function(t){return(t=W(t))&&eA.test(t)?t.replace(eO,t2):t},a.uniqueId=function(t){var r=++td;return W(t)+r},a.upperCase=r7,a.upperFirst=r4,a.each=Zu,a.eachRight=Ju,a.first=Gu,Li(a,(e9={},$n(a,function(t,r){tf.call(a.prototype,r)||(e9[r]=t)}),e9),{chain:!1}),a.VERSION="4.17.21",mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){a[t].placeholder=a}),mn(["drop","take"],function(t,r){H.prototype[t]=function(c){c=c===i?1:nn(R(c),0);var u=this.__filtered__&&!r?new H(this):this.clone();return u.__filtered__?u.__takeCount__=ns(c,u.__takeCount__):u.__views__.push({size:ns(c,4294967295),type:t+(u.__dir__<0?"Right":"")}),u},H.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),mn(["filter","map","takeWhile"],function(t,r){var i=r+1,c=1==i||3==i;H.prototype[t]=function(t){var r=this.clone();return r.__iteratees__.push({iteratee:x(t,3),type:i}),r.__filtered__=r.__filtered__||c,r}}),mn(["head","last"],function(t,r){var i="take"+(r?"Right":"");H.prototype[t]=function(){return this[i](1).value()[0]}}),mn(["initial","tail"],function(t,r){var i="drop"+(r?"":"Right");H.prototype[t]=function(){return this.__filtered__?new H(this):this[i](1)}}),H.prototype.compact=function(){return this.filter(fn)},H.prototype.find=function(t){return this.filter(t).head()},H.prototype.findLast=function(t){return this.reverse().find(t)},H.prototype.invokeMap=L(function(t,r){return"function"==typeof t?new H(this):this.map(function(i){return ae(i,t,r)})}),H.prototype.reject=function(t){return this.filter(ur(x(t)))},H.prototype.slice=function(t,r){t=R(t);var c=this;return c.__filtered__&&(t>0||r<0)?new H(c):(t<0?c=c.takeRight(-t):t&&(c=c.drop(t)),r!==i&&(c=(r=R(r))<0?c.dropRight(-r):c.take(r-t)),c)},H.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},H.prototype.toArray=function(){return this.take(4294967295)},$n(H.prototype,function(t,r){var c=/^(?:filter|find|map|reject)|While$/.test(r),u=/^(?:head|last)$/.test(r),_=a[u?"take"+("last"==r?"Right":""):r],w=u||/^find/.test(r);_&&(a.prototype[r]=function(){var r=this.__wrapped__,E=u?[1]:arguments,P=r instanceof H,C=E[0],A=P||rS(r),m=function(t){var r=_.apply(a,nt([t],E));return u&&q?r[0]:r};A&&c&&"function"==typeof C&&1!=C.length&&(P=A=!1);var q=this.__chain__,$=!!this.__actions__.length,T=w&&!q,U=P&&!$;if(!w&&A){r=U?r:new H(this);var J=t.apply(r,E);return J.__actions__.push({func:er,args:[m],thisArg:i}),new Pn(J,q)}return T&&U?t.apply(this,E):(J=this.thru(m),T?u?J.value()[0]:J.value():J)})}),mn(["pop","push","shift","sort","splice","unshift"],function(t){var r=to[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",c=/^(?:pop|shift)$/.test(t);a.prototype[t]=function(){var t=arguments;if(c&&!this.__chain__){var u=this.value();return r.apply(rS(u)?u:[],t)}return this[i](function(i){return r.apply(rS(i)?i:[],t)})}}),$n(H.prototype,function(t,r){var i=a[r];if(i){var c=i.name+"";tf.call(nw,c)||(nw[c]=[]),nw[c].push({name:r,func:i})}}),nw[Xe(i,2).name]=[{name:"wrapper",func:i}],H.prototype.clone=function(){var t=new H(this.__wrapped__);return t.__actions__=un(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=un(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=un(this.__views__),t},H.prototype.reverse=function(){if(this.__filtered__){var t=new H(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},H.prototype.value=function(){var t=this.__wrapped__.value(),r=this.__dir__,i=rS(t),c=r<0,u=i?t.length:0,_=function(t,r,i){for(var c=-1,u=i.length;++c<u;){var _=i[c],w=_.size;switch(_.type){case"drop":t+=w;break;case"dropRight":r-=w;break;case"take":r=ns(r,t+w);break;case"takeRight":t=nn(t,r-w)}}return{start:t,end:r}}(0,u,this.__views__),w=_.start,E=_.end,P=E-w,C=c?E:w-1,A=this.__iteratees__,q=A.length,$=0,T=ns(P,this.__takeCount__);if(!i||!c&&u==P&&T==P)return ou(t,this.__actions__);var U=[];e:for(;P--&&$<T;){C+=r;for(var J=-1,B=t[C];++J<q;){var X=A[J],ee=X.iteratee,et=X.type,es=ee(B);if(2==et)B=es;else if(!es){if(1==et)continue e;break e}}U[$++]=B}return U},a.prototype.at=re,a.prototype.chain=function(){return Yu(this)},a.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},a.prototype.next=function(){this.__values__===i&&(this.__values__=ua(this.value()));var t=this.__index__>=this.__values__.length,r=t?i:this.__values__[this.__index__++];return{done:t,value:r}},a.prototype.plant=function(t){for(var r,c=this;c instanceof qe;){var u=Fu(c);u.__index__=0,u.__values__=i,r?_.__wrapped__=u:r=u;var _=u;c=c.__wrapped__}return _.__wrapped__=t,r},a.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof H){var r=t;return this.__actions__.length&&(r=new H(this)),(r=r.reverse()).__actions__.push({func:er,args:[Ai],thisArg:i}),new Pn(r,this.__chain__)}return this.thru(Ai)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return ou(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,tk&&(a.prototype[tk]=function(){return this}),a}();tV?((tV.exports=t3)._=t3,tW._=t3):tU._=t3}).call(eE)}(eP,eP.exports);var eC=Object.defineProperty,eR=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,eO=Object.getOwnPropertySymbols,ex=Object.prototype.hasOwnProperty,eA=Object.prototype.propertyIsEnumerable,ya=(t,r,i)=>r in t?eC(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,cr=(t,r)=>{for(var i in r||(r={}))ex.call(r,i)&&ya(t,i,r[i]);if(eO)for(var i of eO(r))eA.call(r,i)&&ya(t,i,r[i]);return t},Yg=(t,r)=>eR(t,eS(r));function ft(t,r,i){var c;let u=(0,_.DQ)(t);return(null==(c=r.rpcMap)?void 0:c[u.reference])||`https://rpc.walletconnect.com/v1/?chainId=${u.namespace}:${u.reference}&projectId=${i}`}function Ct(t){return t.includes(":")?t.split(":")[1]:t}function Sa(t){return t.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function Oa(t){var r,i,c,u;let w={};if(!(0,_.L5)(t))return w;for(let[E,P]of Object.entries(t)){let t=(0,_.gp)(E)?[E]:P.chains,C=P.methods||[],A=P.events||[],q=P.rpcMap||{},$=(0,_.M)(E);w[$]=Yg(cr(cr({},w[$]),P),{chains:(0,_.eG)(t,null==(r=w[$])?void 0:r.chains),methods:(0,_.eG)(C,null==(i=w[$])?void 0:i.methods),events:(0,_.eG)(A,null==(c=w[$])?void 0:c.events),rpcMap:cr(cr({},q),null==(u=w[$])?void 0:u.rpcMap)})}return w}function Xg(t){return t.includes(":")?t.split(":")[2]:t}function Wi(t){return"number"==typeof t?t:t.includes("0x")?parseInt(t,16):t.includes(":")?Number(t.split(":")[1]):Number(t)}let eN={},z=t=>eN[t],Fi=(t,r)=>{eN[t]=r};let Vg=class Vg{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){let t=this.namespace.accounts;return t&&t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;let c=Ct(r);t[c]=this.createHttpProvider(c,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||ft(t,this.namespace,this.client.core.projectId);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}};let kg=class kg{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){let i=r||ft(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;let c=parseInt(Ct(r));t[c]=this.createHttpProvider(c,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){let t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let c=t.request.params?null==(r=t.request.params[0])?void 0:r.chainId:"0x0";c=c.startsWith("0x")?c:`0x${c}`;let u=parseInt(c,16);if(this.isChainApproved(u))this.setDefaultChain(`${u}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:c}]},chainId:null==(i=this.namespace.chains)?void 0:i[0]}),this.setDefaultChain(`${u}`);else throw Error(`Failed to switch to chain 'eip155:${u}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}};let jg=class jg{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;let c=Ct(r);t[c]=this.createHttpProvider(c,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||ft(t,this.namespace,this.client.core.projectId);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}};let nv=class nv{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;let c=Ct(r);t[c]=this.createHttpProvider(c,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||ft(t,this.namespace,this.client.core.projectId);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}};let tv=class tv{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{let i=this.getCardanoRPCUrl(r),c=Ct(r);t[c]=this.createHttpProvider(c,i)}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){let r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||this.getCardanoRPCUrl(t);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}};let ev=class ev{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;let c=Ct(r);t[c]=this.createHttpProvider(c,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||ft(t,this.namespace,this.client.core.projectId);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}};let rv=class rv{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;let c=Ct(r);t[c]=this.createHttpProvider(c,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||ft(t,this.namespace,this.client.core.projectId);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);return new e_.r(new HttpConnection(i,z("disableProviderPing")))}};let iv=class iv{constructor(t){this.name="near",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){let i=r||ft(`${this.name}:${t}`,this.namespace);if(!i)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(eb.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t&&t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,null==(i=this.namespace.rpcMap)?void 0:i[r])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){let i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){let i=r||ft(t,this.namespace);return typeof i>"u"?void 0:new e_.r(new HttpConnection(i,z("disableProviderPing")))}};var eq=Object.defineProperty,ej=Object.defineProperties,eD=Object.getOwnPropertyDescriptors,eL=Object.getOwnPropertySymbols,eM=Object.prototype.hasOwnProperty,e$=Object.prototype.propertyIsEnumerable,Ta=(t,r,i)=>r in t?eq(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,hr=(t,r)=>{for(var i in r||(r={}))eM.call(r,i)&&Ta(t,i,r[i]);if(eL)for(var i of eL(r))e$.call(r,i)&&Ta(t,i,r[i]);return t},Mi=(t,r)=>ej(t,eD(r));let lr=class lr{constructor(t){this.events=new(u()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,E.pino)((0,E.getDefaultLoggerOptions)({level:t?.logger||ew})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){let r=new lr(t);return await r.initialize(),r}async request(t,r){let[i,c]=this.validateChain(r);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(i).request({request:hr({},t),chainId:`${i}:${c}`,topic:this.session.topic})}sendAsync(t,r,i){this.request(t,i).then(t=>r(null,t)).catch(t=>r(t,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:(0,_.D6)("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:i,approval:c}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await c().then(t=>{this.session=t,this.namespaces||(this.namespaces=function(t){let r={};for(let[i,c]of Object.entries(t)){let t=c.methods||[],u=c.events||[],w=c.accounts||[],E=(0,_.gp)(i)?[i]:c.chains?c.chains:Sa(c.accounts);r[i]={chains:E,methods:t,events:u,accounts:w}}return r}(t.namespaces),this.persist("namespaces",this.namespaces))}).catch(t=>{if(t.message!==J)throw t;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;let[i,c]=this.validateChain(t);this.getProvider(i).setDefaultChain(c,r)}catch(t){if(!/Please call connect/.test(t.message))throw t}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");let r=this.client.pairing.getAll();if((0,_.qt)(r)){for(let i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Q.init({logger:this.providerOpts.logger||ew,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let t=[...new Set(Object.keys(this.session.namespaces).map(t=>(0,_.M)(t)))];Fi("client",this.client),Fi("events",this.events),Fi("disableProviderPing",this.disableProviderPing),t.forEach(t=>{if(!this.session)return;let r=function(t,r){let i=Object.keys(r.namespaces).filter(r=>r.includes(t));if(!i.length)return[];let c=[];return i.forEach(t=>{let i=r.namespaces[t].accounts;c.push(...i)}),c}(t,this.session),i=Sa(r),c=function(t={},r={}){let i=Oa(t),c=Oa(r);return eP.exports.merge(i,c)}(this.namespaces,this.optionalNamespaces),u=Mi(hr({},c[t]),{accounts:r,chains:i});switch(t){case"eip155":this.rpcProviders[t]=new kg({namespace:u});break;case"solana":this.rpcProviders[t]=new jg({namespace:u});break;case"cosmos":this.rpcProviders[t]=new nv({namespace:u});break;case"polkadot":this.rpcProviders[t]=new Vg({namespace:u});break;case"cip34":this.rpcProviders[t]=new tv({namespace:u});break;case"elrond":this.rpcProviders[t]=new ev({namespace:u});break;case"multiversx":this.rpcProviders[t]=new rv({namespace:u});break;case"near":this.rpcProviders[t]=new iv({namespace:u})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{let{params:r}=t,{event:i}=r;if("accountsChanged"===i.name){let t=i.data;t&&(0,_.qt)(t)&&this.events.emit("accountsChanged",t.map(Xg))}else if("chainChanged"===i.name){let t=r.chainId,i=r.event.data,c=(0,_.M)(t),u=Wi(t)!==Wi(i)?`${c}:${Wi(i)}`:t;this.onChainChanged(u)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;let{namespaces:c}=r,u=null==(i=this.client)?void 0:i.session.get(t);this.session=Mi(hr({},u),{namespaces:c}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Mi(hr({},(0,_.D6)("USER_DISCONNECTED")),{data:t.topic}))}),this.on(eb.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace(null==(r=this.session)?void 0:r.namespaces[t])})}setNamespaces(t){let{namespaces:r,optionalNamespaces:i,sessionProperties:c}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=c,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){let[r,i]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(t=>(0,_.M)(t)).includes(r))throw Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];let c=(0,_.M)(Object.keys(this.namespaces)[0]),u=this.rpcProviders[c].getDefaultChain();return[c,u]}async requestAccounts(){let[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){var i;if(!this.namespaces)return;let[c,u]=this.validateChain(t);r||this.getProvider(c).setDefaultChain(u),(null!=(i=this.namespaces[c])?i:this.namespaces[`${c}:${u}`]).defaultChain=u,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",u)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${eI}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${eI}/${t}`)}};let eT=["eth_sendTransaction","personal_sign"],eH=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],ek=["chainChanged","accountsChanged"],eU=["chainChanged","accountsChanged","message","disconnect","connect"];var eW=Object.defineProperty,eV=Object.defineProperties,ez=Object.getOwnPropertyDescriptors,eG=Object.getOwnPropertySymbols,eZ=Object.prototype.hasOwnProperty,eK=Object.prototype.propertyIsEnumerable,O=(t,r,i)=>r in t?eW(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,p=(t,r)=>{for(var i in r||(r={}))eZ.call(r,i)&&O(t,i,r[i]);if(eG)for(var i of eG(r))eK.call(r,i)&&O(t,i,r[i]);return t},index_es_M=(t,r)=>eV(t,ez(r));function index_es_g(t){return Number(t[0].split(":")[1])}function f(t){return`0x${t.toString(16)}`}let v=class v{constructor(){this.events=new c.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){let r=new v;return await r.initialize(t),r}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,r){this.signer.sendAsync(t,r,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);let{required:r,optional:i}=function(t){let{chains:r,optionalChains:i,methods:c,optionalMethods:u,events:w,optionalEvents:E,rpcMap:P}=t;if(!(0,_.qt)(r))throw Error("Invalid chains");let C={chains:r,methods:c||eT,events:w||ek,rpcMap:p({},r.length?{[index_es_g(r)]:P[index_es_g(r)]}:{})},A=w?.filter(t=>!ek.includes(t)),q=c?.filter(t=>!eT.includes(t));if(!i&&!E&&!u&&!(null!=A&&A.length)&&!(null!=q&&q.length))return{required:r.length?C:void 0};let $=A?.length&&q?.length||!i,T={chains:[...new Set($?C.chains.concat(i||[]):i)],methods:[...new Set(C.methods.concat(null!=u&&u.length?u:eH))],events:[...new Set(C.events.concat(null!=E&&E.length?E:eU))],rpcMap:P};return{required:r.length?C:void 0,optional:i.length?T:void 0}}(this.rpc);try{let c=await new Promise(async(c,u)=>{var _;this.rpc.showQrModal&&(null==(_=this.modal)||_.subscribeModal(t=>{t.open||this.signer.session||(this.signer.abortPairingAttempt(),u(Error("Connection request reset. Please try again.")))})),await this.signer.connect(index_es_M(p({namespaces:p({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic})).then(t=>{c(t)}).catch(t=>{u(Error(t.message))})});if(!c)return;let u=(0,_.gu)(c.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:u),this.setAccounts(u),this.events.emit("connect",{chainId:f(this.chainId)})}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{let{params:r}=t,{event:i}=r;"accountsChanged"===i.name?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===i.name?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{let r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",f(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",index_es_M(p({},(0,_.D6)("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&(null==(r=this.modal)||r.closeModal(),null==(i=this.modal)||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){let r=t.filter(t=>this.isCompatibleChainId(t)).map(t=>this.parseChainId(t));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",f(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){let r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){let[r,i,c]=t.split(":");return{chainId:`${r}:${i}`,address:c}}setAccounts(t){this.accounts=t.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;let c=null!=(r=t?.chains)?r:[],u=null!=(i=t?.optionalChains)?i:[],_=c.concat(u);if(!_.length)throw Error("No chains specified in either `chains` or `optionalChains`");let w=c.length?t?.methods||eT:[],E=c.length?t?.events||ek:[],P=t?.optionalMethods||[],C=t?.optionalEvents||[],A=t?.rpcMap||this.buildRpcMap(_,t.projectId),q=t?.qrModalOptions||void 0;return{chains:c?.map(t=>this.formatChainId(t)),optionalChains:u.map(t=>this.formatChainId(t)),methods:w,events:E,optionalMethods:P,optionalEvents:C,rpcMap:A,showQrModal:!!(null!=t&&t.showQrModal),qrModalOptions:q,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){let i={};return t.forEach(t=>{i[t]=this.getRpcUrl(t,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?index_es_g(this.rpc.chains):index_es_g(this.rpc.optionalChains),this.signer=await lr.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{t=i(45161).u}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(p({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;let{chains:r,optionalChains:i,rpcMap:c}=t;r&&(0,_.qt)(r)&&(this.rpc.chains=r.map(t=>this.formatChainId(t)),r.forEach(t=>{this.rpc.rpcMap[t]=c?.[t]||this.getRpcUrl(t)})),i&&(0,_.qt)(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(t=>this.formatChainId(t)),i.forEach(t=>{this.rpc.rpcMap[t]=c?.[t]||this.getRpcUrl(t)}))}getRpcUrl(t,r){var i;return(null==(i=this.rpc.rpcMap)?void 0:i[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r?.accounts),this.setAccounts(r?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map(t=>this.parseAccount(t))}}},75740:function(t,r,i){i.d(r,{ConfigCtrl:function(){return ee},zv:function(){return q},uA:function(){return U},ExplorerCtrl:function(){return ew},jb:function(){return eb},OptionsCtrl:function(){return B},AV:function(){return A},ThemeCtrl:function(){return eO},ToastCtrl:function(){return eA}}),Symbol();let c=Symbol(),u=Object.getPrototypeOf,_=new WeakMap,l=t=>t&&(_.has(t)?_.get(t):u(t)===Object.prototype||u(t)===Array.prototype),y=t=>l(t)&&t[c]||null,h=(t,r=!0)=>{_.set(t,r)},isObject=t=>"object"==typeof t&&null!==t,w=new WeakMap,E=new WeakSet,buildProxyFunction=(t=Object.is,r=(t,r)=>new Proxy(t,r),i=t=>isObject(t)&&!E.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer),c=t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}},u=new WeakMap,_=(t,r,i=c)=>{let P=u.get(t);if((null==P?void 0:P[0])===r)return P[1];let C=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return h(C,!0),u.set(t,[r,C]),Reflect.ownKeys(t).forEach(r=>{if(Object.getOwnPropertyDescriptor(C,r))return;let c=Reflect.get(t,r),u={value:c,enumerable:!0,configurable:!0};if(E.has(c))h(c,!1);else if(c instanceof Promise)delete u.value,u.get=()=>i(c);else if(w.has(c)){let[t,r]=w.get(c);u.value=_(t,r(),i)}Object.defineProperty(C,r,u)}),Object.preventExtensions(C)},P=new WeakMap,C=[1,1],A=c=>{if(!isObject(c))throw Error("object required");let u=P.get(c);if(u)return u;let q=C[0],$=new Set,notifyUpdate=(t,r=++C[0])=>{q!==r&&(q=r,$.forEach(i=>i(t,r)))},T=C[1],ensureVersion=(t=++C[1])=>(T===t||$.size||(T=t,U.forEach(([r])=>{let i=r[1](t);i>q&&(q=i)})),q),createPropListener=t=>(r,i)=>{let c=[...r];c[1]=[t,...c[1]],notifyUpdate(c,i)},U=new Map,addPropListener=(t,r)=>{if(U.has(t))throw Error("prop listener already exists");if($.size){let i=r[3](createPropListener(t));U.set(t,[r,i])}else U.set(t,[r])},removePropListener=t=>{var r;let i=U.get(t);i&&(U.delete(t),null==(r=i[1])||r.call(i))},addListener=t=>{$.add(t),1===$.size&&U.forEach(([t,r],i)=>{if(r)throw Error("remove already exists");let c=t[3](createPropListener(i));U.set(i,[t,c])});let removeListener=()=>{$.delete(t),0===$.size&&U.forEach(([t,r],i)=>{r&&(r(),U.set(i,[t]))})};return removeListener},J=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),B={deleteProperty(t,r){let i=Reflect.get(t,r);removePropListener(r);let c=Reflect.deleteProperty(t,r);return c&&notifyUpdate(["delete",[r],i]),c},set(r,c,u,_){let C=Reflect.has(r,c),q=Reflect.get(r,c,_);if(C&&(t(q,u)||P.has(u)&&t(q,P.get(u))))return!0;removePropListener(c),isObject(u)&&(u=y(u)||u);let $=u;if(u instanceof Promise)u.then(t=>{u.status="fulfilled",u.value=t,notifyUpdate(["resolve",[c],t])}).catch(t=>{u.status="rejected",u.reason=t,notifyUpdate(["reject",[c],t])});else{!w.has(u)&&i(u)&&($=A(u));let t=!E.has($)&&w.get($);t&&addPropListener(c,t)}return Reflect.set(r,c,$,_),notifyUpdate(["set",[c],u,q]),!0}},X=r(J,B);P.set(c,X);let ee=[J,ensureVersion,_,addListener];return w.set(X,ee),Reflect.ownKeys(c).forEach(t=>{let r=Object.getOwnPropertyDescriptor(c,t);"value"in r&&(X[t]=c[t],delete r.value,delete r.writable),Object.defineProperty(J,t,r)}),X})=>[A,w,E,t,r,i,c,u,_,P,C],[P]=buildProxyFunction();function proxy(t={}){return P(t)}function subscribe(t,r,i){let c;let u=w.get(t);u||console.warn("Please use proxy object");let _=[],E=u[3],P=!1,C=E(t=>{if(_.push(t),i){r(_.splice(0));return}c||(c=Promise.resolve().then(()=>{c=void 0,P&&r(_.splice(0))}))});return P=!0,()=>{P=!1,C()}}let C=proxy({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),A={state:C,subscribe:t=>subscribe(C,()=>t(C)),push(t,r){t!==C.view&&(C.view=t,r&&(C.data=r),C.history.push(t))},reset(t){C.view=t,C.history=[t]},replace(t){C.history.length>1&&(C.history[C.history.length-1]=t,C.view=t)},goBack(){if(C.history.length>1){C.history.pop();let[t]=C.history.slice(-1);C.view=t}},setData(t){C.data=t}},q={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>"u">typeof window&&!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>q.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){let t=navigator.userAgent.toLowerCase();return q.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl:t=>t.startsWith("http://")||t.startsWith("https://"),isArray:t=>Array.isArray(t)&&t.length>0,formatNativeUrl(t,r,i){if(q.isHttpUrl(t))return this.formatUniversalUrl(t,r,i);let c=t;c.includes("://")||(c=t.replaceAll("/","").replaceAll(":",""),c=`${c}://`),c.endsWith("/")||(c=`${c}/`),this.setWalletConnectDeepLink(c,i);let u=encodeURIComponent(r);return`${c}wc?uri=${u}`},formatUniversalUrl(t,r,i){if(!q.isHttpUrl(t))return this.formatNativeUrl(t,r,i);let c=t;c.endsWith("/")||(c=`${c}/`),this.setWalletConnectDeepLink(c,i);let u=encodeURIComponent(r);return`${c}wc?uri=${u}`},wait:async t=>new Promise(r=>{setTimeout(r,t)}),openHref(t,r){window.open(t,r,"noreferrer noopener")},setWalletConnectDeepLink(t,r){try{localStorage.setItem(q.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:r}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{let[r]=t.split("?");localStorage.setItem(q.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(q.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{"u">typeof localStorage&&localStorage.setItem(q.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;let r=null==(t=A.state.data)?void 0:t.Wallet;if(!r)throw Error('Missing "Wallet" view data');return r}},$="u">typeof location&&(location.hostname.includes("localhost")||location.protocol.includes("https")),T=proxy({enabled:$,userSessionId:"",events:[],connectedWalletId:void 0}),U={state:T,subscribe:t=>subscribe(T.events,()=>t(function(t,r){let i=w.get(t);i||console.warn("Please use proxy object");let[c,u,_]=i;return _(c,u(),void 0)}(T.events[T.events.length-1]))),initialize(){T.enabled&&"u">typeof(null==crypto?void 0:crypto.randomUUID)&&(T.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){T.connectedWalletId=t},click(t){if(T.enabled){let r={type:"CLICK",name:t.name,userSessionId:T.userSessionId,timestamp:Date.now(),data:t};T.events.push(r)}},track(t){if(T.enabled){let r={type:"TRACK",name:t.name,userSessionId:T.userSessionId,timestamp:Date.now(),data:t};T.events.push(r)}},view(t){if(T.enabled){let r={type:"VIEW",name:t.name,userSessionId:T.userSessionId,timestamp:Date.now(),data:t};T.events.push(r)}}},J=proxy({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),B={state:J,subscribe:t=>subscribe(J,()=>t(J)),setChains(t){J.chains=t},setWalletConnectUri(t){J.walletConnectUri=t},setIsCustomDesktop(t){J.isCustomDesktop=t},setIsCustomMobile(t){J.isCustomMobile=t},setIsDataLoaded(t){J.isDataLoaded=t},setIsUiLoaded(t){J.isUiLoaded=t},setIsAuth(t){J.isAuth=t}},X=proxy({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),ee={state:X,subscribe:t=>subscribe(X,()=>t(X)),setConfig(t){var r,i;U.initialize(),B.setChains(t.chains),B.setIsAuth(!!t.enableAuthMode),B.setIsCustomMobile(!!(null==(r=t.mobileWallets)?void 0:r.length)),B.setIsCustomDesktop(!!(null==(i=t.desktopWallets)?void 0:i.length)),q.setModalVersionInStorage(),Object.assign(X,t)}};var et=Object.defineProperty,es=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,ec=Object.prototype.propertyIsEnumerable,M=(t,r,i)=>r in t?et(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,K=(t,r)=>{for(var i in r||(r={}))eo.call(r,i)&&M(t,i,r[i]);if(es)for(var i of es(r))ec.call(r,i)&&M(t,i,r[i]);return t};let el="https://explorer-api.walletconnect.com",eh="js-2.6.2";async function dist_w(t,r){let i=K({sdkType:"wcm",sdkVersion:eh},r),c=new URL(t,el);return c.searchParams.append("projectId",ee.state.projectId),Object.entries(i).forEach(([t,r])=>{r&&c.searchParams.append(t,String(r))}),(await fetch(c)).json()}let ep={getDesktopListings:async t=>dist_w("/w3m/v1/getDesktopListings",t),getMobileListings:async t=>dist_w("/w3m/v1/getMobileListings",t),getInjectedListings:async t=>dist_w("/w3m/v1/getInjectedListings",t),getAllListings:async t=>dist_w("/w3m/v1/getAllListings",t),getWalletImageUrl:t=>`${el}/w3m/v1/getWalletImage/${t}?projectId=${ee.state.projectId}&sdkType=wcm&sdkVersion=${eh}`,getAssetImageUrl:t=>`${el}/w3m/v1/getAssetImage/${t}?projectId=${ee.state.projectId}&sdkType=wcm&sdkVersion=${eh}`};var ef=Object.defineProperty,ed=Object.getOwnPropertySymbols,eg=Object.prototype.hasOwnProperty,em=Object.prototype.propertyIsEnumerable,k=(t,r,i)=>r in t?ef(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,F=(t,r)=>{for(var i in r||(r={}))eg.call(r,i)&&k(t,i,r[i]);if(ed)for(var i of ed(r))em.call(r,i)&&k(t,i,r[i]);return t};let ey=q.isMobile(),e_=proxy({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),ew={state:e_,async getRecomendedWallets(){let{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:r}=ee.state;if("NONE"===t||"ALL"===r&&!t)return e_.recomendedWallets;if(q.isArray(t)){let r={recommendedIds:t.join(",")},{listings:i}=await ep.getAllListings(r),c=Object.values(i);c.sort((r,i)=>{let c=t.indexOf(r.id),u=t.indexOf(i.id);return c-u}),e_.recomendedWallets=c}else{let{chains:t,isAuth:i}=B.state,c=t?.join(","),u=q.isArray(r),_={page:1,sdks:i?"auth_v1":void 0,entries:q.RECOMMENDED_WALLET_AMOUNT,chains:c,version:2,excludedIds:u?r.join(","):void 0},{listings:w}=ey?await ep.getMobileListings(_):await ep.getDesktopListings(_);e_.recomendedWallets=Object.values(w)}return e_.recomendedWallets},async getWallets(t){let r=F({},t),{explorerRecommendedWalletIds:i,explorerExcludedWalletIds:c}=ee.state,{recomendedWallets:u}=e_;if("ALL"===c)return e_.wallets;u.length?r.excludedIds=u.map(t=>t.id).join(","):q.isArray(i)&&(r.excludedIds=i.join(",")),q.isArray(c)&&(r.excludedIds=[r.excludedIds,c].filter(Boolean).join(",")),B.state.isAuth&&(r.sdks="auth_v1");let{page:_,search:w}=t,{listings:E,total:P}=ey?await ep.getMobileListings(r):await ep.getDesktopListings(r),C=Object.values(E),A=w?"search":"wallets";return e_[A]={listings:[...e_[A].listings,...C],total:P,page:_??1},{listings:C,total:P}},getWalletImageUrl:t=>ep.getWalletImageUrl(t),getAssetImageUrl:t=>ep.getAssetImageUrl(t),resetSearch(){e_.search={listings:[],total:0,page:1}}},eI=proxy({open:!1}),eb={state:eI,subscribe:t=>subscribe(eI,()=>t(eI)),open:async t=>new Promise(r=>{let{isUiLoaded:i,isDataLoaded:c}=B.state;if(q.removeWalletConnectDeepLink(),B.setWalletConnectUri(t?.uri),B.setChains(t?.chains),A.reset("ConnectWallet"),i&&c)eI.open=!0,r();else{let t=setInterval(()=>{let i=B.state;i.isUiLoaded&&i.isDataLoaded&&(clearInterval(t),eI.open=!0,r())},200)}}),close(){eI.open=!1}};var eE=Object.defineProperty,eP=Object.getOwnPropertySymbols,eC=Object.prototype.hasOwnProperty,eR=Object.prototype.propertyIsEnumerable,S=(t,r,i)=>r in t?eE(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,Y=(t,r)=>{for(var i in r||(r={}))eC.call(r,i)&&S(t,i,r[i]);if(eP)for(var i of eP(r))eR.call(r,i)&&S(t,i,r[i]);return t};let eS=proxy({themeMode:"u">typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),eO={state:eS,subscribe:t=>subscribe(eS,()=>t(eS)),setThemeConfig(t){let{themeMode:r,themeVariables:i}=t;r&&(eS.themeMode=r),i&&(eS.themeVariables=Y({},i))}},ex=proxy({open:!1,message:"",variant:"success"}),eA={state:ex,subscribe:t=>subscribe(ex,()=>t(ex)),openToast(t,r){ex.open=!0,ex.message=t,ex.variant=r},closeToast(){ex.open=!1}}},45161:function(t,r,i){i.d(r,{u:function(){return d}});var c=i(75740);let d=class d{constructor(t){this.openModal=c.jb.open,this.closeModal=c.jb.close,this.subscribeModal=c.jb.subscribe,this.setTheme=c.ThemeCtrl.setThemeConfig,c.ThemeCtrl.setThemeConfig(t),c.ConfigCtrl.setConfig(t),this.initUi()}async initUi(){if("u">typeof window){await Promise.all([i.e(2024),i.e(981)]).then(i.bind(i,981));let t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),c.OptionsCtrl.setIsUiLoaded(!0)}}}}}]);